{
  "url": "https://docs.crawl4ai.com/core/docker-deploymeny",
  "timestamp": "2025-02-06T13:23:39.221168",
  "html": "<!DOCTYPE html><html lang=\"en\" style=\"scroll-padding-top: 50px;\"><head>\n    \n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <meta name=\"generator\" content=\"mkdocs-1.6.0, mkdocs-terminal-4.4.0\">\n    \n    <meta name=\"description\" content=\"üöÄü§ñ Crawl4AI, Open-source LLM-Friendly Web Crawler &amp; Scraper\"> \n     \n    \n    <link rel=\"canonical\" href=\"https://docs.crawl4ai.com/core/docker-deploymeny/\"><link rel=\"icon\" type=\"image/png\" sizes=\"192x192\" href=\"../../img/android-chrome-192x192.png\">\n<link rel=\"icon\" type=\"image/png\" sizes=\"512x512\" href=\"../../img/android-chrome-512x512.png\">\n<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"../../img/apple-touch-icon.png\">\n<link rel=\"shortcut icon\" type=\"image/png\" sizes=\"48x48\" href=\"../../img/favicon.ico\">\n<link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"../../img/favicon-16x16.png\">\n<link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"../../img/favicon-32x32.png\">\n\n\n    \n \n<title>Docker Deployment - Crawl4AI Documentation (v0.4.3bx)</title>\n\n\n<link href=\"../../css/fontawesome/css/fontawesome.min.css\" rel=\"stylesheet\">\n<link href=\"../../css/fontawesome/css/solid.min.css\" rel=\"stylesheet\">\n<link href=\"../../css/normalize.css\" rel=\"stylesheet\">\n<link href=\"../../css/terminal.css\" rel=\"stylesheet\">\n<link href=\"../../css/theme.css\" rel=\"stylesheet\">\n<link href=\"../../css/theme.tile_grid.css\" rel=\"stylesheet\">\n<link href=\"../../css/theme.footer.css\" rel=\"stylesheet\">\n<!-- dark color palette -->\n<link href=\"../../css/palettes/dark.css\" rel=\"stylesheet\">\n\n<!-- page layout -->\n<style>\n/* initially set page layout to a one column grid */\n.terminal-mkdocs-main-grid {\n    display: grid;\n    grid-column-gap: 1.4em;\n    grid-template-columns: auto;\n    grid-template-rows: auto;\n}\n\n/*  \n*   when side navigation is not hidden, use a two column grid.  \n*   if the screen is too narrow, fall back to the initial one column grid layout.\n*   in this case the main content will be placed under the navigation panel. \n*/\n@media only screen and (min-width: 70em) {\n    .terminal-mkdocs-main-grid {\n        grid-template-columns: 4fr 9fr;\n    }\n}</style>\n\n\n\n    \n    <link href=\"../../assets/styles.css\" rel=\"stylesheet\"> \n    <link href=\"../../assets/highlight.css\" rel=\"stylesheet\"> \n    <link href=\"../../assets/dmvendor.css\" rel=\"stylesheet\">  \n    \n    \n\n    \n    <!-- search css support -->\n<link href=\"../../css/search/bootstrap-modal.css\" rel=\"stylesheet\">\n<!-- search scripts -->\n<script>\n    var base_url = \"../..\",\n    shortcuts = \"{}\";\n</script>\n<script src=\"../../js/jquery/jquery-1.10.1.min.js\" defer=\"\"></script>\n<script src=\"../../js/bootstrap/bootstrap.min.js\" defer=\"\"></script>\n<script src=\"../../js/mkdocs/base.js\" defer=\"\"></script>\n    \n    \n    \n    \n    <script src=\"../../assets/highlight.min.js\"></script>\n    \n    <script src=\"../../assets/highlight_init.js\"></script>\n    \n    <script src=\"https://buttons.github.io/buttons.js\"></script>\n    \n    <script src=\"../../search/main.js\"></script>\n    \n\n    \n</head>\n\n<body class=\"terminal\" style=\"\"><div class=\"container\">\n    <div class=\"terminal-nav\">\n        <header class=\"terminal-logo\">\n            <div id=\"mkdocs-terminal-site-name\" class=\"logo terminal-prompt\"><a href=\"https://docs.crawl4ai.com/\" class=\"no-style\">Crawl4AI Documentation (v0.4.3bx)</a></div>\n        </header>\n        \n        <nav class=\"terminal-menu\">\n            \n            <ul vocab=\"https://schema.org/\" typeof=\"BreadcrumbList\">\n                \n                \n                <li property=\"itemListElement\" typeof=\"ListItem\">\n                    <a href=\"../..\" class=\"menu-item \" property=\"item\" typeof=\"WebPage\">\n                        <span property=\"name\">Home</span>\n                    </a>\n                    <meta property=\"position\" content=\"0\">\n                </li>\n                \n                \n                \n                \n                <li property=\"itemListElement\" typeof=\"ListItem\">\n                    <a href=\"../quickstart/\" class=\"menu-item \" property=\"item\" typeof=\"WebPage\">\n                        <span property=\"name\">Quick Start</span>\n                    </a>\n                    <meta property=\"position\" content=\"1\">\n                </li>\n                \n                \n                \n                \n                \n                \n                \n                \n                \n                \n                \n                    \n                    \n\n\n<li property=\"itemListElement\" typeof=\"ListItem\">\n    <a href=\"#\" class=\"menu-item\" data-toggle=\"modal\" data-target=\"#mkdocs_search_modal\" property=\"item\" typeof=\"SearchAction\">\n        <i aria-hidden=\"true\" class=\"fa fa-search\"></i> <span property=\"name\">Search</span>\n    </a>\n    <meta property=\"position\" content=\"2\">\n</li>\n                    \n            </ul>\n            \n        </nav>\n    </div>\n</div>\n        \n    <div class=\"container\">\n        <div class=\"terminal-mkdocs-main-grid\"><aside id=\"terminal-mkdocs-side-panel\"><nav>\n  \n    <ul class=\"terminal-mkdocs-side-nav-items\">\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../..\">Home</a>\n        \n    \n    \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item--active terminal-mkdocs-side-nav-section-no-index\">Setup &amp; Installation</span>\n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../installation/\">Installation</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        <span class=\"\n\n    terminal-mkdocs-side-nav-item--active\">Docker Deployment</span>\n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../quickstart/\">Quick Start</a>\n        \n    \n    \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        \n            \n            \n            <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index\">Blog &amp; Changelog</span>\n        \n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../blog/\">Blog Home</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"https://github.com/unclecode/crawl4ai/blob/main/CHANGELOG.md\">Changelog</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        \n            \n            \n            <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index\">Core</span>\n        \n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../simple-crawling/\">Simple Crawling</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../crawler-result/\">Crawler Result</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../browser-crawler-config/\">Browser &amp; Crawler Config</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../markdown-generation/\">Markdown Generation</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../fit-markdown/\">Fit Markdown</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../page-interaction/\">Page Interaction</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../content-selection/\">Content Selection</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../cache-modes/\">Cache Modes</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../local-files/\">Local Files &amp; Raw HTML</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../link-media/\">Link &amp; Media</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        \n            \n            \n            <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index\">Advanced</span>\n        \n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/advanced-features/\">Overview</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/file-downloading/\">File Downloading</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/lazy-loading/\">Lazy Loading</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/hooks-auth/\">Hooks &amp; Auth</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/proxy-security/\">Proxy &amp; Security</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/session-management/\">Session Management</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/multi-url-crawling/\">Multi-URL Crawling</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/crawl-dispatcher/\">Crawl Dispatcher</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/identity-based-crawling/\">Identity Based Crawling</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/ssl-certificate/\">SSL Certificate</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        \n            \n            \n            <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index\">Extraction</span>\n        \n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../extraction/no-llm-strategies/\">LLM-Free Strategies</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../extraction/llm-strategies/\">LLM Strategies</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../extraction/clustring-strategies/\">Clustering Strategies</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../extraction/chunking/\">Chunking</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        \n            \n            \n            <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index\">API Reference</span>\n        \n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../api/async-webcrawler/\">AsyncWebCrawler</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../api/arun/\">arun()</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../api/arun_many/\">arun_many()</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../api/parameters/\">Browser &amp; Crawler Config</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../api/crawl-result/\">CrawlResult</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../api/strategies/\">Strategies</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n    </ul>\n  \n</nav><hr>\n<nav>\n    <ul>\n        <li><a href=\"#docker-deployment\">Docker Deployment</a></li>\n        <li><a href=\"#quick-start\">Quick Start üöÄ</a></li><li><a href=\"#running-with-docker-compose\">Running with Docker Compose üê≥</a></li><li><a href=\"#api-security\">API Security üîí</a></li><li><a href=\"#configuration-options\">Configuration Options üîß</a></li><li><a href=\"#usage-examples\">Usage Examples üìù</a></li><li><a href=\"#platform-specific-instructions\">Platform-Specific Instructions üíª</a></li><li><a href=\"#testing\">Testing üß™</a></li><li><a href=\"#advanced-configuration\">Advanced Configuration ‚öôÔ∏è</a></li><li><a href=\"#troubleshooting\">Troubleshooting üîç</a></li><li><a href=\"#best-practices\">Best Practices üåü</a></li><li><a href=\"#api-reference\">API Reference üìö</a></li>\n    </ul>\n</nav>\n</aside>\n            <main id=\"terminal-mkdocs-main-content\">\n<section id=\"mkdocs-terminal-content\">\n    <h1 id=\"docker-deployment\">Docker Deployment</h1>\n<p>Crawl4AI provides official Docker images for easy deployment and scalability. This guide covers installation, configuration, and usage of Crawl4AI in Docker environments.</p>\n<h2 id=\"quick-start\">Quick Start üöÄ</h2>\n<p>Pull and run the basic version:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\"><span class=\"hljs-comment\"># Basic run without security</span>\ndocker pull unclecode/crawl4ai:basic\ndocker run -p 11235:11235 unclecode/crawl4ai:basic\n\n<span class=\"hljs-comment\"># Run with API security enabled</span>\ndocker run -p 11235:11235 -e CRAWL4AI_API_TOKEN=your_secret_token unclecode/crawl4ai:basic\n</code></pre></div>\n<h2 id=\"running-with-docker-compose\">Running with Docker Compose üê≥</h2>\n<h3 id=\"use-docker-compose-from-local-dockerfile-or-docker-hub\">Use Docker Compose (From Local Dockerfile or Docker Hub)</h3>\n<p>Crawl4AI provides flexibility to use Docker Compose for managing your containerized services. You can either build the image locally from the provided <code>Dockerfile</code> or use the pre-built image from Docker Hub.</p>\n<h3 id=\"option-1-using-docker-compose-to-build-locally\"><strong>Option 1: Using Docker Compose to Build Locally</strong></h3>\n<p>If you want to build the image locally, use the provided <code>docker-compose.local.yml</code> file.</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-lua\">docker-compose -f docker-compose.<span class=\"hljs-keyword\">local</span>.yml up -d\n</code></pre></div>\n<p>This will:\n1. Build the Docker image from the provided <code>Dockerfile</code>.\n2. Start the container and expose it on <code>http://localhost:11235</code>.</p>\n<hr>\n<h3 id=\"option-2-using-docker-compose-with-pre-built-image-from-hub\"><strong>Option 2: Using Docker Compose with Pre-Built Image from Hub</strong></h3>\n<p>If you prefer using the pre-built image on Docker Hub, use the <code>docker-compose.hub.yml</code> file.</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-undefined\">docker-compose -f docker-compose.hub.yml up -d\n</code></pre></div>\n<p>This will:\n1. Pull the pre-built image <code>unclecode/crawl4ai:basic</code> (or <code>all</code>, depending on your configuration).\n2. Start the container and expose it on <code>http://localhost:11235</code>.</p>\n<hr>\n<h3 id=\"stopping-the-running-services\"><strong>Stopping the Running Services</strong></h3>\n<p>To stop the services started via Docker Compose, you can use:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\">docker-compose -f docker-compose.local.yml down\n<span class=\"hljs-comment\"># OR</span>\ndocker-compose -f docker-compose.hub.yml down\n</code></pre></div>\n<p>If the containers don‚Äôt stop and the application is still running, check the running containers:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-undefined\">docker ps\n</code></pre></div>\n<p>Find the <code>CONTAINER ID</code> of the running service and stop it forcefully:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-php-template\"><span class=\"language-xml\">docker stop <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">CONTAINER_ID</span>&gt;</span>\n</span></code></pre></div>\n<hr>\n<h3 id=\"debugging-with-docker-compose\"><strong>Debugging with Docker Compose</strong></h3>\n<ul>\n<li>\n<p><strong>Check Logs</strong>: To view the container logs:\n  </p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-lua\">docker-compose -f docker-compose.<span class=\"hljs-keyword\">local</span>.yml logs -f\n</code></pre></div><p></p>\n</li>\n<li>\n<p><strong>Remove Orphaned Containers</strong>: If the service is still running unexpectedly:\n  </p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-lua\">docker-compose -f docker-compose.<span class=\"hljs-keyword\">local</span>.yml down <span class=\"hljs-comment\">--remove-orphans</span>\n</code></pre></div><p></p>\n</li>\n<li>\n<p><strong>Manually Remove Network</strong>: If the network is still in use:\n  </p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\">docker network <span class=\"hljs-built_in\">ls</span>\ndocker network <span class=\"hljs-built_in\">rm</span> crawl4ai_default\n</code></pre></div><p></p>\n</li>\n</ul>\n<hr>\n<h3 id=\"why-use-docker-compose\">Why Use Docker Compose?</h3>\n<p>Docker Compose is the recommended way to deploy Crawl4AI because:\n1. It simplifies multi-container setups.\n2. Allows you to define environment variables, resources, and ports in a single file.\n3. Makes it easier to switch between local development and production-ready images.</p>\n<p>For example, your <code>docker-compose.yml</code> could include API keys, token settings, and memory limits, making deployment quick and consistent.</p>\n<h2 id=\"api-security\">API Security üîí</h2>\n<h3 id=\"understanding-crawl4ai_api_token\">Understanding CRAWL4AI_API_TOKEN</h3>\n<p>The <code>CRAWL4AI_API_TOKEN</code> provides optional security for your Crawl4AI instance:</p>\n<ul>\n<li>If <code>CRAWL4AI_API_TOKEN</code> is set: All API endpoints (except <code>/health</code>) require authentication</li>\n<li>If <code>CRAWL4AI_API_TOKEN</code> is not set: The API is publicly accessible</li>\n</ul>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\"><span class=\"hljs-comment\"># Secured Instance</span>\ndocker run -p 11235:11235 -e CRAWL4AI_API_TOKEN=your_secret_token unclecode/crawl4ai:all\n\n<span class=\"hljs-comment\"># Unsecured Instance</span>\ndocker run -p 11235:11235 unclecode/crawl4ai:all\n</code></pre></div>\n<h3 id=\"making-api-calls\">Making API Calls</h3>\n<p>For secured instances, include the token in all requests:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-makefile\">import requests\n\n<span class=\"hljs-comment\"># Setup headers if token is being used</span>\napi_token = <span class=\"hljs-string\">\"your_secret_token\"</span>  <span class=\"hljs-comment\"># Same token set in CRAWL4AI_API_TOKEN</span>\nheaders = {<span class=\"hljs-string\">\"Authorization\"</span>: f<span class=\"hljs-string\">\"Bearer {api_token}\"</span>} if api_token <span class=\"hljs-keyword\">else</span> {}\n\n<span class=\"hljs-comment\"># Making authenticated requests</span>\nresponse = requests.post(\n    <span class=\"hljs-string\">\"http://localhost:11235/crawl\"</span>,\n    headers=headers,\n    json={\n        <span class=\"hljs-string\">\"urls\"</span>: <span class=\"hljs-string\">\"https://example.com\"</span>,\n        <span class=\"hljs-string\">\"priority\"</span>: 10\n    }\n)\n\n<span class=\"hljs-comment\"># Checking task status</span>\ntask_id = response.json()[<span class=\"hljs-string\">\"task_id\"</span>]\nstatus = requests.get(\n    f<span class=\"hljs-string\">\"http://localhost:11235/task/{task_id}\"</span>,\n    headers=headers\n)\n</code></pre></div>\n<h3 id=\"using-with-docker-compose\">Using with Docker Compose</h3>\n<p>In your <code>docker-compose.yml</code>:\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-yaml\"><span class=\"hljs-attr\">services:</span>\n  <span class=\"hljs-attr\">crawl4ai:</span>\n    <span class=\"hljs-attr\">image:</span> <span class=\"hljs-string\">unclecode/crawl4ai:all</span>\n    <span class=\"hljs-attr\">environment:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-string\">CRAWL4AI_API_TOKEN=${CRAWL4AI_API_TOKEN:-}</span>  <span class=\"hljs-comment\"># Optional</span>\n    <span class=\"hljs-comment\"># ... other configuration</span>\n</code></pre></div><p></p>\n<p>Then either:\n1. Set in <code>.env</code> file:\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-ini\"><span class=\"hljs-attr\">CRAWL4AI_API_TOKEN</span>=your_secret_token\n</code></pre></div><p></p>\n<ol>\n<li>Or set via command line:\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-ini\"><span class=\"hljs-attr\">CRAWL4AI_API_TOKEN</span>=your_secret_token docker-compose up\n</code></pre></div></li>\n</ol>\n<blockquote>\n<p><strong>Security Note</strong>: If you enable the API token, make sure to keep it secure and never commit it to version control. The token will be required for all API endpoints except the health check endpoint (<code>/health</code>).</p>\n</blockquote>\n<h2 id=\"configuration-options\">Configuration Options üîß</h2>\n<h3 id=\"environment-variables\">Environment Variables</h3>\n<p>You can configure the service using environment variables:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\"><span class=\"hljs-comment\"># Basic configuration</span>\ndocker run -p 11235:11235 \\\n    -e MAX_CONCURRENT_TASKS=5 \\\n    unclecode/crawl4ai:all\n\n<span class=\"hljs-comment\"># With security and LLM support</span>\ndocker run -p 11235:11235 \\\n    -e CRAWL4AI_API_TOKEN=your_secret_token \\\n    -e OPENAI_API_KEY=sk-... \\\n    -e ANTHROPIC_API_KEY=sk-ant-... \\\n    unclecode/crawl4ai:all\n</code></pre></div>\n<h3 id=\"using-docker-compose-recommended\">Using Docker Compose (Recommended) üê≥</h3>\n<p>Create a <code>docker-compose.yml</code>:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-ruby\"><span class=\"hljs-symbol\">version:</span> <span class=\"hljs-string\">'3.8'</span>\n\n<span class=\"hljs-symbol\">services:</span>\n  <span class=\"hljs-symbol\">crawl4ai:</span>\n    <span class=\"hljs-symbol\">image:</span> unclecode/<span class=\"hljs-symbol\">crawl4ai:</span>all\n    <span class=\"hljs-symbol\">ports:</span>\n      - <span class=\"hljs-string\">\"11235:11235\"</span>\n    <span class=\"hljs-symbol\">environment:</span>\n      - <span class=\"hljs-variable constant_\">CRAWL4AI_API_TOKEN</span>=<span class=\"hljs-variable\">${</span><span class=\"hljs-variable constant_\">CRAWL4AI_API_TOKEN</span><span class=\"hljs-symbol\">:-</span>}  <span class=\"hljs-comment\"># Optional API security</span>\n      - <span class=\"hljs-variable constant_\">MAX_CONCURRENT_TASKS</span>=<span class=\"hljs-number\">5</span>\n      <span class=\"hljs-comment\"># LLM Provider Keys</span>\n      - <span class=\"hljs-variable constant_\">OPENAI_API_KEY</span>=<span class=\"hljs-variable\">${</span><span class=\"hljs-variable constant_\">OPENAI_API_KEY</span><span class=\"hljs-symbol\">:-</span>}\n      - <span class=\"hljs-variable constant_\">ANTHROPIC_API_KEY</span>=<span class=\"hljs-variable\">${</span><span class=\"hljs-variable constant_\">ANTHROPIC_API_KEY</span><span class=\"hljs-symbol\">:-</span>}\n    <span class=\"hljs-symbol\">volumes:</span>\n      - <span class=\"hljs-regexp\">/dev/shm</span><span class=\"hljs-symbol\">:/dev/shm</span>\n    <span class=\"hljs-symbol\">deploy:</span>\n      <span class=\"hljs-symbol\">resources:</span>\n        <span class=\"hljs-symbol\">limits:</span>\n          <span class=\"hljs-symbol\">memory:</span> 4G\n        <span class=\"hljs-symbol\">reservations:</span>\n          <span class=\"hljs-symbol\">memory:</span> 1G\n</code></pre></div>\n<p>You can run it in two ways:</p>\n<ol>\n<li>\n<p>Using environment variables directly:\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-ini\"><span class=\"hljs-attr\">CRAWL4AI_API_TOKEN</span>=secret123 OPENAI_API_KEY=sk-... docker-compose up\n</code></pre></div><p></p>\n</li>\n<li>\n<p>Using a <code>.env</code> file (recommended):\nCreate a <code>.env</code> file in the same directory:\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-ini\"><span class=\"hljs-comment\"># API Security (optional)</span>\n<span class=\"hljs-attr\">CRAWL4AI_API_TOKEN</span>=your_secret_token\n\n<span class=\"hljs-comment\"># LLM Provider Keys</span>\n<span class=\"hljs-attr\">OPENAI_API_KEY</span>=sk-...\n<span class=\"hljs-attr\">ANTHROPIC_API_KEY</span>=sk-ant-...\n\n<span class=\"hljs-comment\"># Other Configuration</span>\n<span class=\"hljs-attr\">MAX_CONCURRENT_TASKS</span>=<span class=\"hljs-number\">5</span>\n</code></pre></div><p></p>\n</li>\n</ol>\n<p>Then simply run:\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-undefined\">docker-compose up\n</code></pre></div><p></p>\n<h3 id=\"testing-the-deployment\">Testing the Deployment üß™</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-python\"><span class=\"hljs-keyword\">import</span> requests\n\n<span class=\"hljs-comment\"># For unsecured instances</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">test_unsecured</span>():\n    <span class=\"hljs-comment\"># Health check</span>\n    health = requests.get(<span class=\"hljs-string\">\"http://localhost:11235/health\"</span>)\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Health check:\"</span>, health.json())\n\n    <span class=\"hljs-comment\"># Basic crawl</span>\n    response = requests.post(\n        <span class=\"hljs-string\">\"http://localhost:11235/crawl\"</span>,\n        json={\n            <span class=\"hljs-string\">\"urls\"</span>: <span class=\"hljs-string\">\"https://www.nbcnews.com/business\"</span>,\n            <span class=\"hljs-string\">\"priority\"</span>: <span class=\"hljs-number\">10</span>\n        }\n    )\n    task_id = response.json()[<span class=\"hljs-string\">\"task_id\"</span>]\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Task ID:\"</span>, task_id)\n\n<span class=\"hljs-comment\"># For secured instances</span>\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">test_secured</span>(<span class=\"hljs-params\">api_token</span>):\n    headers = {<span class=\"hljs-string\">\"Authorization\"</span>: <span class=\"hljs-string\">f\"Bearer <span class=\"hljs-subst\">{api_token}</span>\"</span>}\n\n    <span class=\"hljs-comment\"># Basic crawl with authentication</span>\n    response = requests.post(\n        <span class=\"hljs-string\">\"http://localhost:11235/crawl\"</span>,\n        headers=headers,\n        json={\n            <span class=\"hljs-string\">\"urls\"</span>: <span class=\"hljs-string\">\"https://www.nbcnews.com/business\"</span>,\n            <span class=\"hljs-string\">\"priority\"</span>: <span class=\"hljs-number\">10</span>\n        }\n    )\n    task_id = response.json()[<span class=\"hljs-string\">\"task_id\"</span>]\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Task ID:\"</span>, task_id)\n</code></pre></div>\n<h3 id=\"llm-extraction-example\">LLM Extraction Example ü§ñ</h3>\n<p>When you've configured your LLM provider keys (via environment variables or <code>.env</code>), you can use LLM extraction:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-makefile\">request = {\n    <span class=\"hljs-string\">\"urls\"</span>: <span class=\"hljs-string\">\"https://example.com\"</span>,\n    <span class=\"hljs-string\">\"extraction_config\"</span>: {\n        <span class=\"hljs-string\">\"type\"</span>: <span class=\"hljs-string\">\"llm\"</span>,\n        <span class=\"hljs-string\">\"params\"</span>: {\n            <span class=\"hljs-string\">\"provider\"</span>: <span class=\"hljs-string\">\"openai/gpt-4\"</span>,\n            <span class=\"hljs-string\">\"instruction\"</span>: <span class=\"hljs-string\">\"Extract main topics from the page\"</span>\n        }\n    }\n}\n\n<span class=\"hljs-comment\"># Make the request (add headers if using API security)</span>\nresponse = requests.post(<span class=\"hljs-string\">\"http://localhost:11235/crawl\"</span>, json=request)\n</code></pre></div>\n<blockquote>\n<p><strong>Note</strong>: Remember to add <code>.env</code> to your <code>.gitignore</code> to keep your API keys secure!</p>\n</blockquote>\n<h2 id=\"usage-examples\">Usage Examples üìù</h2>\n<h3 id=\"basic-crawling\">Basic Crawling</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-makefile\">request = {\n    <span class=\"hljs-string\">\"urls\"</span>: <span class=\"hljs-string\">\"https://www.nbcnews.com/business\"</span>,\n    <span class=\"hljs-string\">\"priority\"</span>: 10\n}\n\nresponse = requests.post(<span class=\"hljs-string\">\"http://localhost:11235/crawl\"</span>, json=request)\ntask_id = response.json()[<span class=\"hljs-string\">\"task_id\"</span>]\n\n<span class=\"hljs-comment\"># Get results</span>\nresult = requests.get(f<span class=\"hljs-string\">\"http://localhost:11235/task/{task_id}\"</span>)\n</code></pre></div>\n<h3 id=\"structured-data-extraction\">Structured Data Extraction</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\"><span class=\"hljs-keyword\">schema</span> <span class=\"hljs-punctuation\">=</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-string\">\"name\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Crypto Prices\"</span>,\n    <span class=\"hljs-string\">\"baseSelector\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\".cds-tableRow-t45thuk\"</span>,\n    <span class=\"hljs-string\">\"fields\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-punctuation\">{</span>\n            <span class=\"hljs-string\">\"name\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"crypto\"</span>,\n            <span class=\"hljs-string\">\"selector\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"td:nth-child(1) h2\"</span>,\n            <span class=\"hljs-string\">\"type\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"text\"</span>,\n        <span class=\"hljs-punctuation\">}</span>,\n        <span class=\"hljs-punctuation\">{</span>\n            <span class=\"hljs-string\">\"name\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"price\"</span>,\n            <span class=\"hljs-string\">\"selector\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"td:nth-child(2)\"</span>,\n            <span class=\"hljs-string\">\"type\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"text\"</span>,\n        <span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">]</span>,\n<span class=\"hljs-punctuation\">}</span>\n\nrequest <span class=\"hljs-punctuation\">=</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-string\">\"urls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"https://www.coinbase.com/explore\"</span>,\n    <span class=\"hljs-string\">\"extraction_config\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"type\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"json_css\"</span>,\n        <span class=\"hljs-string\">\"params\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span><span class=\"hljs-string\">\"schema\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-keyword\">schema</span><span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre></div>\n<h3 id=\"dynamic-content-handling\">Dynamic Content Handling</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-makefile\">request = {\n    <span class=\"hljs-string\">\"urls\"</span>: <span class=\"hljs-string\">\"https://www.nbcnews.com/business\"</span>,\n    <span class=\"hljs-string\">\"js_code\"</span>: [\n        <span class=\"hljs-string\">\"const loadMoreButton = Array.from(document.querySelectorAll('button')).find(button =&gt; button.textContent.includes('Load More')); loadMoreButton &amp;&amp; loadMoreButton.click();\"</span>\n    ],\n    <span class=\"hljs-string\">\"wait_for\"</span>: <span class=\"hljs-string\">\"article.tease-card:nth-child(10)\"</span>\n}\n</code></pre></div>\n<h3 id=\"ai-powered-extraction-full-version\">AI-Powered Extraction (Full Version)</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-makefile\">request = {\n    <span class=\"hljs-string\">\"urls\"</span>: <span class=\"hljs-string\">\"https://www.nbcnews.com/business\"</span>,\n    <span class=\"hljs-string\">\"extraction_config\"</span>: {\n        <span class=\"hljs-string\">\"type\"</span>: <span class=\"hljs-string\">\"cosine\"</span>,\n        <span class=\"hljs-string\">\"params\"</span>: {\n            <span class=\"hljs-string\">\"semantic_filter\"</span>: <span class=\"hljs-string\">\"business finance economy\"</span>,\n            <span class=\"hljs-string\">\"word_count_threshold\"</span>: 10,\n            <span class=\"hljs-string\">\"max_dist\"</span>: 0.2,\n            <span class=\"hljs-string\">\"top_k\"</span>: 3\n        }\n    }\n}\n</code></pre></div>\n<h2 id=\"platform-specific-instructions\">Platform-Specific Instructions üíª</h2>\n<h3 id=\"macos\">macOS</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\">docker pull unclecode/crawl4ai:basic\ndocker run -p 11235:11235 unclecode/crawl4ai:basic\n</code></pre></div>\n<h3 id=\"ubuntu\">Ubuntu</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\"><span class=\"hljs-comment\"># Basic version</span>\ndocker pull unclecode/crawl4ai:basic\ndocker run -p 11235:11235 unclecode/crawl4ai:basic\n\n<span class=\"hljs-comment\"># With GPU support</span>\ndocker pull unclecode/crawl4ai:gpu\ndocker run --gpus all -p 11235:11235 unclecode/crawl4ai:gpu\n</code></pre></div>\n<h3 id=\"windows-powershell\">Windows (PowerShell)</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\">docker pull unclecode/crawl4ai:basic\ndocker run -p 11235:11235 unclecode/crawl4ai:basic\n</code></pre></div>\n<h2 id=\"testing\">Testing üß™</h2>\n<p>Save this as <code>test_docker.py</code>:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-python\"><span class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\">import</span> json\n<span class=\"hljs-keyword\">import</span> time\n<span class=\"hljs-keyword\">import</span> sys\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Crawl4AiTester</span>:\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, base_url: <span class=\"hljs-built_in\">str</span> = <span class=\"hljs-string\">\"http://localhost:11235\"</span></span>):\n        self.base_url = base_url\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">submit_and_wait</span>(<span class=\"hljs-params\">self, request_data: <span class=\"hljs-built_in\">dict</span>, timeout: <span class=\"hljs-built_in\">int</span> = <span class=\"hljs-number\">300</span></span>) -&gt; <span class=\"hljs-built_in\">dict</span>:\n        <span class=\"hljs-comment\"># Submit crawl job</span>\n        response = requests.post(<span class=\"hljs-string\">f\"<span class=\"hljs-subst\">{self.base_url}</span>/crawl\"</span>, json=request_data)\n        task_id = response.json()[<span class=\"hljs-string\">\"task_id\"</span>]\n        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f\"Task ID: <span class=\"hljs-subst\">{task_id}</span>\"</span>)\n\n        <span class=\"hljs-comment\"># Poll for result</span>\n        start_time = time.time()\n        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:\n            <span class=\"hljs-keyword\">if</span> time.time() - start_time &gt; timeout:\n                <span class=\"hljs-keyword\">raise</span> TimeoutError(<span class=\"hljs-string\">f\"Task <span class=\"hljs-subst\">{task_id}</span> timeout\"</span>)\n\n            result = requests.get(<span class=\"hljs-string\">f\"<span class=\"hljs-subst\">{self.base_url}</span>/task/<span class=\"hljs-subst\">{task_id}</span>\"</span>)\n            status = result.json()\n\n            <span class=\"hljs-keyword\">if</span> status[<span class=\"hljs-string\">\"status\"</span>] == <span class=\"hljs-string\">\"completed\"</span>:\n                <span class=\"hljs-keyword\">return</span> status\n\n            time.sleep(<span class=\"hljs-number\">2</span>)\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">test_deployment</span>():\n    tester = Crawl4AiTester()\n\n    <span class=\"hljs-comment\"># Test basic crawl</span>\n    request = {\n        <span class=\"hljs-string\">\"urls\"</span>: <span class=\"hljs-string\">\"https://www.nbcnews.com/business\"</span>,\n        <span class=\"hljs-string\">\"priority\"</span>: <span class=\"hljs-number\">10</span>\n    }\n\n    result = tester.submit_and_wait(request)\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Basic crawl successful!\"</span>)\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f\"Content length: <span class=\"hljs-subst\">{<span class=\"hljs-built_in\">len</span>(result[<span class=\"hljs-string\">'result'</span>][<span class=\"hljs-string\">'markdown'</span>])}</span>\"</span>)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">\"__main__\"</span>:\n    test_deployment()\n</code></pre></div>\n<h2 id=\"advanced-configuration\">Advanced Configuration ‚öôÔ∏è</h2>\n<h3 id=\"crawler-parameters\">Crawler Parameters</h3>\n<p>The <code>crawler_params</code> field allows you to configure the browser instance and crawling behavior. Here are key parameters you can use:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">request <span class=\"hljs-punctuation\">=</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-string\">\"urls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"https://example.com\"</span>,\n    <span class=\"hljs-string\">\"crawler_params\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-comment\"># Browser Configuration</span>\n        <span class=\"hljs-string\">\"headless\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,                    <span class=\"hljs-comment\"># Run in headless mode</span>\n        <span class=\"hljs-string\">\"browser_type\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"chromium\"</span>,          <span class=\"hljs-comment\"># chromium/firefox/webkit</span>\n        <span class=\"hljs-string\">\"user_agent\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"custom-agent\"</span>,        <span class=\"hljs-comment\"># Custom user agent</span>\n        <span class=\"hljs-string\">\"proxy\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"http://proxy:8080\"</span>,        <span class=\"hljs-comment\"># Proxy configuration</span>\n\n        <span class=\"hljs-comment\"># Performance &amp; Behavior</span>\n        <span class=\"hljs-string\">\"page_timeout\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">30000</span>,               <span class=\"hljs-comment\"># Page load timeout (ms)</span>\n        <span class=\"hljs-string\">\"verbose\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,                     <span class=\"hljs-comment\"># Enable detailed logging</span>\n        <span class=\"hljs-string\">\"semaphore_count\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">5</span>,               <span class=\"hljs-comment\"># Concurrent request limit</span>\n\n        <span class=\"hljs-comment\"># Anti-Detection Features</span>\n        <span class=\"hljs-string\">\"simulate_user\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,               <span class=\"hljs-comment\"># Simulate human behavior</span>\n        <span class=\"hljs-string\">\"magic\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,                       <span class=\"hljs-comment\"># Advanced anti-detection</span>\n        <span class=\"hljs-string\">\"override_navigator\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,          <span class=\"hljs-comment\"># Override navigator properties</span>\n\n        <span class=\"hljs-comment\"># Session Management</span>\n        <span class=\"hljs-string\">\"user_data_dir\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"./browser-data\"</span>,   <span class=\"hljs-comment\"># Browser profile location</span>\n        <span class=\"hljs-string\">\"use_managed_browser\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,         <span class=\"hljs-comment\"># Use persistent browser</span>\n    <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre></div>\n<h3 id=\"extra-parameters\">Extra Parameters</h3>\n<p>The <code>extra</code> field allows passing additional parameters directly to the crawler's <code>arun</code> function:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">request <span class=\"hljs-punctuation\">=</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-string\">\"urls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"https://example.com\"</span>,\n    <span class=\"hljs-string\">\"extra\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"word_count_threshold\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">10</span>,          <span class=\"hljs-comment\"># Min words per block</span>\n        <span class=\"hljs-string\">\"only_text\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,                   <span class=\"hljs-comment\"># Extract only text</span>\n        <span class=\"hljs-string\">\"bypass_cache\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,                <span class=\"hljs-comment\"># Force fresh crawl</span>\n        <span class=\"hljs-string\">\"process_iframes\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,             <span class=\"hljs-comment\"># Include iframe content</span>\n    <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre></div>\n<h3 id=\"complete-examples\">Complete Examples</h3>\n<p>1.‚ÄÄ<strong>Advanced News Crawling</strong>\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">request <span class=\"hljs-punctuation\">=</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-string\">\"urls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"https://www.nbcnews.com/business\"</span>,\n    <span class=\"hljs-string\">\"crawler_params\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"headless\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,\n        <span class=\"hljs-string\">\"page_timeout\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">30000</span>,\n        <span class=\"hljs-string\">\"remove_overlay_elements\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>      <span class=\"hljs-comment\"># Remove popups</span>\n    <span class=\"hljs-punctuation\">}</span>,\n    <span class=\"hljs-string\">\"extra\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"word_count_threshold\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">50</span>,          <span class=\"hljs-comment\"># Longer content blocks</span>\n        <span class=\"hljs-string\">\"bypass_cache\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>                 <span class=\"hljs-comment\"># Fresh content</span>\n    <span class=\"hljs-punctuation\">}</span>,\n    <span class=\"hljs-string\">\"css_selector\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\".article-body\"</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre></div><p></p>\n<p>2.‚ÄÄ<strong>Anti-Detection Configuration</strong>\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">request <span class=\"hljs-punctuation\">=</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-string\">\"urls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"https://example.com\"</span>,\n    <span class=\"hljs-string\">\"crawler_params\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"simulate_user\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,\n        <span class=\"hljs-string\">\"magic\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,\n        <span class=\"hljs-string\">\"override_navigator\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,\n        <span class=\"hljs-string\">\"user_agent\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Mozilla/5.0 ...\"</span>,\n        <span class=\"hljs-string\">\"headers\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n            <span class=\"hljs-string\">\"Accept-Language\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"en-US,en;q=0.9\"</span>\n        <span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre></div><p></p>\n<p>3.‚ÄÄ<strong>LLM Extraction with Custom Parameters</strong>\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">request <span class=\"hljs-punctuation\">=</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-string\">\"urls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"https://openai.com/pricing\"</span>,\n    <span class=\"hljs-string\">\"extraction_config\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"type\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"llm\"</span>,\n        <span class=\"hljs-string\">\"params\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n            <span class=\"hljs-string\">\"provider\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"openai/gpt-4\"</span>,\n            <span class=\"hljs-string\">\"schema\"</span><span class=\"hljs-punctuation\">:</span> pricing_schema\n        <span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">}</span>,\n    <span class=\"hljs-string\">\"crawler_params\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"verbose\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,\n        <span class=\"hljs-string\">\"page_timeout\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">60000</span>\n    <span class=\"hljs-punctuation\">}</span>,\n    <span class=\"hljs-string\">\"extra\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"word_count_threshold\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">1</span>,\n        <span class=\"hljs-string\">\"only_text\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>\n    <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre></div><p></p>\n<p>4.‚ÄÄ<strong>Session-Based Dynamic Content</strong>\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">request <span class=\"hljs-punctuation\">=</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-string\">\"urls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"https://example.com\"</span>,\n    <span class=\"hljs-string\">\"crawler_params\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"session_id\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"dynamic_session\"</span>,\n        <span class=\"hljs-string\">\"headless\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">False</span>,\n        <span class=\"hljs-string\">\"page_timeout\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">60000</span>\n    <span class=\"hljs-punctuation\">}</span>,\n    <span class=\"hljs-string\">\"js_code\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"window.scrollTo(0, document.body.scrollHeight);\"</span><span class=\"hljs-punctuation\">]</span>,\n    <span class=\"hljs-string\">\"wait_for\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"js:() =&gt; document.querySelectorAll('.item').length &gt; 10\"</span>,\n    <span class=\"hljs-string\">\"extra\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"delay_before_return_html\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">2.0</span>\n    <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre></div><p></p>\n<p>5.‚ÄÄ<strong>Screenshot with Custom Timing</strong>\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">request <span class=\"hljs-punctuation\">=</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-string\">\"urls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"https://example.com\"</span>,\n    <span class=\"hljs-string\">\"screenshot\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,\n    <span class=\"hljs-string\">\"crawler_params\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"headless\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\">True</span>,\n        <span class=\"hljs-string\">\"screenshot_wait_for\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\".main-content\"</span>\n    <span class=\"hljs-punctuation\">}</span>,\n    <span class=\"hljs-string\">\"extra\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-string\">\"delay_before_return_html\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-number\">3.0</span>\n    <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre></div><p></p>\n<h3 id=\"parameter-reference-table\">Parameter Reference Table</h3>\n<table class=\"table table-striped table-hover\">\n<thead>\n<tr>\n<th>Category</th>\n<th>Parameter</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Browser</td>\n<td>headless</td>\n<td>bool</td>\n<td>Run browser in headless mode</td>\n</tr>\n<tr>\n<td>Browser</td>\n<td>browser_type</td>\n<td>str</td>\n<td>Browser engine selection</td>\n</tr>\n<tr>\n<td>Browser</td>\n<td>user_agent</td>\n<td>str</td>\n<td>Custom user agent string</td>\n</tr>\n<tr>\n<td>Network</td>\n<td>proxy</td>\n<td>str</td>\n<td>Proxy server URL</td>\n</tr>\n<tr>\n<td>Network</td>\n<td>headers</td>\n<td>dict</td>\n<td>Custom HTTP headers</td>\n</tr>\n<tr>\n<td>Timing</td>\n<td>page_timeout</td>\n<td>int</td>\n<td>Page load timeout (ms)</td>\n</tr>\n<tr>\n<td>Timing</td>\n<td>delay_before_return_html</td>\n<td>float</td>\n<td>Wait before capture</td>\n</tr>\n<tr>\n<td>Anti-Detection</td>\n<td>simulate_user</td>\n<td>bool</td>\n<td>Human behavior simulation</td>\n</tr>\n<tr>\n<td>Anti-Detection</td>\n<td>magic</td>\n<td>bool</td>\n<td>Advanced protection</td>\n</tr>\n<tr>\n<td>Session</td>\n<td>session_id</td>\n<td>str</td>\n<td>Browser session ID</td>\n</tr>\n<tr>\n<td>Session</td>\n<td>user_data_dir</td>\n<td>str</td>\n<td>Profile directory</td>\n</tr>\n<tr>\n<td>Content</td>\n<td>word_count_threshold</td>\n<td>int</td>\n<td>Minimum words per block</td>\n</tr>\n<tr>\n<td>Content</td>\n<td>only_text</td>\n<td>bool</td>\n<td>Text-only extraction</td>\n</tr>\n<tr>\n<td>Content</td>\n<td>process_iframes</td>\n<td>bool</td>\n<td>Include iframe content</td>\n</tr>\n<tr>\n<td>Debug</td>\n<td>verbose</td>\n<td>bool</td>\n<td>Detailed logging</td>\n</tr>\n<tr>\n<td>Debug</td>\n<td>log_console</td>\n<td>bool</td>\n<td>Browser console logs</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"troubleshooting\">Troubleshooting üîç</h2>\n<h3 id=\"common-issues\">Common Issues</h3>\n<p>1.‚ÄÄ<strong>Connection Refused</strong>\n   </p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-javascript\"><span class=\"hljs-title class_\">Error</span>: <span class=\"hljs-title class_\">Connection</span> refused at <span class=\"hljs-attr\">localhost</span>:<span class=\"hljs-number\">11235</span>\n</code></pre></div>\n   Solution: Ensure the container is running and ports are properly mapped.<p></p>\n<p>2.‚ÄÄ<strong>Resource Limits</strong>\n   </p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-yaml\"><span class=\"hljs-attr\">Error:</span> <span class=\"hljs-literal\">No</span> <span class=\"hljs-string\">available</span> <span class=\"hljs-string\">slots</span>\n</code></pre></div>\n   Solution: Increase MAX_CONCURRENT_TASKS or container resources.<p></p>\n<p>3.‚ÄÄ<strong>GPU Access</strong>\n   </p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-javascript\"><span class=\"hljs-title class_\">Error</span>: <span class=\"hljs-variable constant_\">GPU</span> not found\n</code></pre></div>\n   Solution: Ensure proper NVIDIA drivers and use <code>--gpus all</code> flag.<p></p>\n<h3 id=\"debug-mode\">Debug Mode</h3>\n<p>Access container for debugging:\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\">docker run -it --entrypoint /bin/bash unclecode/crawl4ai:all\n</code></pre></div><p></p>\n<p>View container logs:\n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-css\">docker logs <span class=\"hljs-selector-attr\">[container_id]</span>\n</code></pre></div><p></p>\n<h2 id=\"best-practices\">Best Practices üåü</h2>\n<p>1.‚ÄÄ<strong>Resource Management</strong>\n   - Set appropriate memory and CPU limits\n   - Monitor resource usage via health endpoint\n   - Use basic version for simple crawling tasks</p>\n<p>2.‚ÄÄ<strong>Scaling</strong>\n   - Use multiple containers for high load\n   - Implement proper load balancing\n   - Monitor performance metrics</p>\n<p>3.‚ÄÄ<strong>Security</strong>\n   - Use environment variables for sensitive data\n   - Implement proper network isolation\n   - Regular security updates</p>\n<h2 id=\"api-reference\">API Reference üìö</h2>\n<h3 id=\"health-check\">Health Check</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\">GET /health\n</code></pre></div>\n<h3 id=\"submit-crawl-task\">Submit Crawl Task</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\">POST /crawl\nContent-Type: application/json\n\n{\n    <span class=\"hljs-string\">\"urls\"</span>: <span class=\"hljs-string\">\"string or array\"</span>,\n    <span class=\"hljs-string\">\"extraction_config\"</span>: {\n        <span class=\"hljs-string\">\"type\"</span>: <span class=\"hljs-string\">\"basic|llm|cosine|json_css\"</span>,\n        <span class=\"hljs-string\">\"params\"</span>: {}\n    },\n    <span class=\"hljs-string\">\"priority\"</span>: 1-10,\n    <span class=\"hljs-string\">\"ttl\"</span>: 3600\n}\n</code></pre></div>\n<h3 id=\"get-task-status\">Get Task Status</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-bash\">GET /task/{task_id}\n</code></pre></div>\n<p>For more details, visit the <a href=\"https://docs.crawl4ai.com/\">official documentation</a>.</p>\n</section>\n\n            </main>\n        </div>\n        <hr><footer>\n    <div class=\"terminal-mkdocs-footer-grid\">\n        <div id=\"terminal-mkdocs-footer-copyright-info\">\n             Site built with <a href=\"http://www.mkdocs.org\">MkDocs</a> and <a href=\"https://github.com/ntno/mkdocs-terminal\">Terminal for MkDocs</a>.\n        </div>\n    </div>\n</footer>\n    </div>\n\n    \n    <div class=\"modal\" id=\"mkdocs_search_modal\" tabindex=\"-1\" role=\"alertdialog\" aria-modal=\"true\" aria-labelledby=\"searchModalLabel\">\n    <div class=\"modal-dialog modal-lg\" role=\"search\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"searchModalLabel\">Search</h5>\n                <button type=\"button\" class=\"close btn btn-default btn-ghost\" data-dismiss=\"modal\"><span aria-hidden=\"true\">x</span><span class=\"sr-only\">Close</span></button>\n            </div>\n            <div class=\"modal-body\">\n                <p id=\"searchInputLabel\">Type to start searching</p>\n                <form>\n                    <div class=\"form-group\">\n                        <input type=\"search\" class=\"form-control\" aria-labelledby=\"searchInputLabel\" placeholder=\"\" id=\"mkdocs-search-query\" title=\"Please enter search terms here\">\n                    </div>\n                </form>\n                <div id=\"mkdocs-search-results\" data-no-results-text=\"No document matches found\"></div>\n            </div>\n            <div class=\"modal-footer\">\n            </div>\n        </div>\n    </div>\n</div>\n    \n    \n\n\n</body></html>",
  "markdown": "# Docker Deployment\nCrawl4AI provides official Docker images for easy deployment and scalability. This guide covers installation, configuration, and usage of Crawl4AI in Docker environments.\n## Quick Start üöÄ\nPull and run the basic version:\n```\n# Basic run without security\ndocker pull unclecode/crawl4ai:basic\ndocker run -p 11235:11235 unclecode/crawl4ai:basic\n# Run with API security enabled\ndocker run -p 11235:11235 -e CRAWL4AI_API_TOKEN=your_secret_token unclecode/crawl4ai:basic\n\n```\n\n## Running with Docker Compose üê≥\n### Use Docker Compose (From Local Dockerfile or Docker Hub)\nCrawl4AI provides flexibility to use Docker Compose for managing your containerized services. You can either build the image locally from the provided `Dockerfile` or use the pre-built image from Docker Hub.\n### **Option 1: Using Docker Compose to Build Locally**\nIf you want to build the image locally, use the provided `docker-compose.local.yml` file.\n```\ndocker-compose -f docker-compose.local.yml up -d\n\n```\n\nThis will: 1. Build the Docker image from the provided `Dockerfile`. 2. Start the container and expose it on `http://localhost:11235`.\n### **Option 2: Using Docker Compose with Pre-Built Image from Hub**\nIf you prefer using the pre-built image on Docker Hub, use the `docker-compose.hub.yml` file.\n```\ndocker-compose -f docker-compose.hub.yml up -d\n\n```\n\nThis will: 1. Pull the pre-built image `unclecode/crawl4ai:basic` (or `all`, depending on your configuration). 2. Start the container and expose it on `http://localhost:11235`.\n### **Stopping the Running Services**\nTo stop the services started via Docker Compose, you can use:\n```\ndocker-compose -f docker-compose.local.yml down\n# OR\ndocker-compose -f docker-compose.hub.yml down\n\n```\n\nIf the containers don‚Äôt stop and the application is still running, check the running containers:\n```\ndocker ps\n\n```\n\nFind the `CONTAINER ID` of the running service and stop it forcefully:\n```\ndocker stop <CONTAINER_ID>\n\n```\n\n### **Debugging with Docker Compose**\n  * **Check Logs** : To view the container logs: \n```\ndocker-compose -f docker-compose.local.yml logs -f\n\n```\n\n  * **Remove Orphaned Containers** : If the service is still running unexpectedly: \n```\ndocker-compose -f docker-compose.local.yml down --remove-orphans\n\n```\n\n  * **Manually Remove Network** : If the network is still in use: \n```\ndocker network ls\ndocker network rm crawl4ai_default\n\n```\n\n\n\n### Why Use Docker Compose?\nDocker Compose is the recommended way to deploy Crawl4AI because: 1. It simplifies multi-container setups. 2. Allows you to define environment variables, resources, and ports in a single file. 3. Makes it easier to switch between local development and production-ready images.\nFor example, your `docker-compose.yml` could include API keys, token settings, and memory limits, making deployment quick and consistent.\n## API Security üîí\n### Understanding CRAWL4AI_API_TOKEN\nThe `CRAWL4AI_API_TOKEN` provides optional security for your Crawl4AI instance:\n  * If `CRAWL4AI_API_TOKEN` is set: All API endpoints (except `/health`) require authentication\n  * If `CRAWL4AI_API_TOKEN` is not set: The API is publicly accessible\n\n\n```\n# Secured Instance\ndocker run -p 11235:11235 -e CRAWL4AI_API_TOKEN=your_secret_token unclecode/crawl4ai:all\n# Unsecured Instance\ndocker run -p 11235:11235 unclecode/crawl4ai:all\n\n```\n\n### Making API Calls\nFor secured instances, include the token in all requests:\n```\nimport requests\n# Setup headers if token is being used\napi_token = \"your_secret_token\" # Same token set in CRAWL4AI_API_TOKEN\nheaders = {\"Authorization\": f\"Bearer {api_token}\"} if api_token else {}\n# Making authenticated requests\nresponse = requests.post(\n  \"http://localhost:11235/crawl\",\n  headers=headers,\n  json={\n    \"urls\": \"https://example.com\",\n    \"priority\": 10\n  }\n)\n# Checking task status\ntask_id = response.json()[\"task_id\"]\nstatus = requests.get(\n  f\"http://localhost:11235/task/{task_id}\",\n  headers=headers\n)\n\n```\n\n### Using with Docker Compose\nIn your `docker-compose.yml`: \n```\nservices:\n crawl4ai:\n  image: unclecode/crawl4ai:all\n  environment:\n   - CRAWL4AI_API_TOKEN=${CRAWL4AI_API_TOKEN:-} # Optional\n  # ... other configuration\n\n```\n\nThen either: 1. Set in `.env` file: \n```\nCRAWL4AI_API_TOKEN=your_secret_token\n\n```\n\n  1. Or set via command line: \n```\nCRAWL4AI_API_TOKEN=your_secret_token docker-compose up\n\n```\n\n\n\n> **Security Note** : If you enable the API token, make sure to keep it secure and never commit it to version control. The token will be required for all API endpoints except the health check endpoint (`/health`).\n## Configuration Options üîß\n### Environment Variables\nYou can configure the service using environment variables:\n```\n# Basic configuration\ndocker run -p 11235:11235 \\\n  -e MAX_CONCURRENT_TASKS=5 \\\n  unclecode/crawl4ai:all\n# With security and LLM support\ndocker run -p 11235:11235 \\\n  -e CRAWL4AI_API_TOKEN=your_secret_token \\\n  -e OPENAI_API_KEY=sk-... \\\n  -e ANTHROPIC_API_KEY=sk-ant-... \\\n  unclecode/crawl4ai:all\n\n```\n\n### Using Docker Compose (Recommended) üê≥\nCreate a `docker-compose.yml`:\n```\nversion: '3.8'\nservices:\n crawl4ai:\n  image: unclecode/crawl4ai:all\n  ports:\n   - \"11235:11235\"\n  environment:\n   - CRAWL4AI_API_TOKEN=${CRAWL4AI_API_TOKEN:-} # Optional API security\n   - MAX_CONCURRENT_TASKS=5\n   # LLM Provider Keys\n   - OPENAI_API_KEY=${OPENAI_API_KEY:-}\n   - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}\n  volumes:\n   - /dev/shm:/dev/shm\n  deploy:\n   resources:\n    limits:\n     memory: 4G\n    reservations:\n     memory: 1G\n\n```\n\nYou can run it in two ways:\n  1. Using environment variables directly: \n```\nCRAWL4AI_API_TOKEN=secret123 OPENAI_API_KEY=sk-... docker-compose up\n\n```\n\n  2. Using a `.env` file (recommended): Create a `.env` file in the same directory: \n```\n# API Security (optional)\nCRAWL4AI_API_TOKEN=your_secret_token\n# LLM Provider Keys\nOPENAI_API_KEY=sk-...\nANTHROPIC_API_KEY=sk-ant-...\n# Other Configuration\nMAX_CONCURRENT_TASKS=5\n\n```\n\n\n\nThen simply run: \n```\ndocker-compose up\n\n```\n\n### Testing the Deployment üß™\n```\nimport requests\n# For unsecured instances\ndef test_unsecured():\n  # Health check\n  health = requests.get(\"http://localhost:11235/health\")\n  print(\"Health check:\", health.json())\n  # Basic crawl\n  response = requests.post(\n    \"http://localhost:11235/crawl\",\n    json={\n      \"urls\": \"https://www.nbcnews.com/business\",\n      \"priority\": 10\n    }\n  )\n  task_id = response.json()[\"task_id\"]\n  print(\"Task ID:\", task_id)\n# For secured instances\ndef test_secured(api_token):\n  headers = {\"Authorization\": f\"Bearer {api_token}\"}\n  # Basic crawl with authentication\n  response = requests.post(\n    \"http://localhost:11235/crawl\",\n    headers=headers,\n    json={\n      \"urls\": \"https://www.nbcnews.com/business\",\n      \"priority\": 10\n    }\n  )\n  task_id = response.json()[\"task_id\"]\n  print(\"Task ID:\", task_id)\n\n```\n\n### LLM Extraction Example ü§ñ\nWhen you've configured your LLM provider keys (via environment variables or `.env`), you can use LLM extraction:\n```\nrequest = {\n  \"urls\": \"https://example.com\",\n  \"extraction_config\": {\n    \"type\": \"llm\",\n    \"params\": {\n      \"provider\": \"openai/gpt-4\",\n      \"instruction\": \"Extract main topics from the page\"\n    }\n  }\n}\n# Make the request (add headers if using API security)\nresponse = requests.post(\"http://localhost:11235/crawl\", json=request)\n\n```\n\n> **Note** : Remember to add `.env` to your `.gitignore` to keep your API keys secure!\n## Usage Examples üìù\n### Basic Crawling\n```\nrequest = {\n  \"urls\": \"https://www.nbcnews.com/business\",\n  \"priority\": 10\n}\nresponse = requests.post(\"http://localhost:11235/crawl\", json=request)\ntask_id = response.json()[\"task_id\"]\n# Get results\nresult = requests.get(f\"http://localhost:11235/task/{task_id}\")\n\n```\n\n### Structured Data Extraction\n```\nschema = {\n  \"name\": \"Crypto Prices\",\n  \"baseSelector\": \".cds-tableRow-t45thuk\",\n  \"fields\": [\n    {\n      \"name\": \"crypto\",\n      \"selector\": \"td:nth-child(1) h2\",\n      \"type\": \"text\",\n    },\n    {\n      \"name\": \"price\",\n      \"selector\": \"td:nth-child(2)\",\n      \"type\": \"text\",\n    }\n  ],\n}\nrequest = {\n  \"urls\": \"https://www.coinbase.com/explore\",\n  \"extraction_config\": {\n    \"type\": \"json_css\",\n    \"params\": {\"schema\": schema}\n  }\n}\n\n```\n\n### Dynamic Content Handling\n```\nrequest = {\n  \"urls\": \"https://www.nbcnews.com/business\",\n  \"js_code\": [\n    \"const loadMoreButton = Array.from(document.querySelectorAll('button')).find(button => button.textContent.includes('Load More')); loadMoreButton && loadMoreButton.click();\"\n  ],\n  \"wait_for\": \"article.tease-card:nth-child(10)\"\n}\n\n```\n\n### AI-Powered Extraction (Full Version)\n```\nrequest = {\n  \"urls\": \"https://www.nbcnews.com/business\",\n  \"extraction_config\": {\n    \"type\": \"cosine\",\n    \"params\": {\n      \"semantic_filter\": \"business finance economy\",\n      \"word_count_threshold\": 10,\n      \"max_dist\": 0.2,\n      \"top_k\": 3\n    }\n  }\n}\n\n```\n\n## Platform-Specific Instructions üíª\n### macOS\n```\ndocker pull unclecode/crawl4ai:basic\ndocker run -p 11235:11235 unclecode/crawl4ai:basic\n\n```\n\n### Ubuntu\n```\n# Basic version\ndocker pull unclecode/crawl4ai:basic\ndocker run -p 11235:11235 unclecode/crawl4ai:basic\n# With GPU support\ndocker pull unclecode/crawl4ai:gpu\ndocker run --gpus all -p 11235:11235 unclecode/crawl4ai:gpu\n\n```\n\n### Windows (PowerShell)\n```\ndocker pull unclecode/crawl4ai:basic\ndocker run -p 11235:11235 unclecode/crawl4ai:basic\n\n```\n\n## Testing üß™\nSave this as `test_docker.py`:\n```\nimport requests\nimport json\nimport time\nimport sys\nclass Crawl4AiTester:\n  def __init__(self, base_url: str = \"http://localhost:11235\"):\n    self.base_url = base_url\n  def submit_and_wait(self, request_data: dict, timeout: int = 300) -> dict:\n    # Submit crawl job\n    response = requests.post(f\"{self.base_url}/crawl\", json=request_data)\n    task_id = response.json()[\"task_id\"]\n    print(f\"Task ID: {task_id}\")\n    # Poll for result\n    start_time = time.time()\n    while True:\n      if time.time() - start_time > timeout:\n        raise TimeoutError(f\"Task {task_id} timeout\")\n      result = requests.get(f\"{self.base_url}/task/{task_id}\")\n      status = result.json()\n      if status[\"status\"] == \"completed\":\n        return status\n      time.sleep(2)\ndef test_deployment():\n  tester = Crawl4AiTester()\n  # Test basic crawl\n  request = {\n    \"urls\": \"https://www.nbcnews.com/business\",\n    \"priority\": 10\n  }\n  result = tester.submit_and_wait(request)\n  print(\"Basic crawl successful!\")\n  print(f\"Content length: {len(result['result']['markdown'])}\")\nif __name__ == \"__main__\":\n  test_deployment()\n\n```\n\n## Advanced Configuration ‚öôÔ∏è\n### Crawler Parameters\nThe `crawler_params` field allows you to configure the browser instance and crawling behavior. Here are key parameters you can use:\n```\nrequest = {\n  \"urls\": \"https://example.com\",\n  \"crawler_params\": {\n    # Browser Configuration\n    \"headless\": True,          # Run in headless mode\n    \"browser_type\": \"chromium\",     # chromium/firefox/webkit\n    \"user_agent\": \"custom-agent\",    # Custom user agent\n    \"proxy\": \"http://proxy:8080\",    # Proxy configuration\n    # Performance & Behavior\n    \"page_timeout\": 30000,        # Page load timeout (ms)\n    \"verbose\": True,           # Enable detailed logging\n    \"semaphore_count\": 5,        # Concurrent request limit\n    # Anti-Detection Features\n    \"simulate_user\": True,        # Simulate human behavior\n    \"magic\": True,            # Advanced anti-detection\n    \"override_navigator\": True,     # Override navigator properties\n    # Session Management\n    \"user_data_dir\": \"./browser-data\",  # Browser profile location\n    \"use_managed_browser\": True,     # Use persistent browser\n  }\n}\n\n```\n\n### Extra Parameters\nThe `extra` field allows passing additional parameters directly to the crawler's `arun` function:\n```\nrequest = {\n  \"urls\": \"https://example.com\",\n  \"extra\": {\n    \"word_count_threshold\": 10,     # Min words per block\n    \"only_text\": True,          # Extract only text\n    \"bypass_cache\": True,        # Force fresh crawl\n    \"process_iframes\": True,       # Include iframe content\n  }\n}\n\n```\n\n### Complete Examples\n1. **Advanced News Crawling**\n```\nrequest = {\n  \"urls\": \"https://www.nbcnews.com/business\",\n  \"crawler_params\": {\n    \"headless\": True,\n    \"page_timeout\": 30000,\n    \"remove_overlay_elements\": True   # Remove popups\n  },\n  \"extra\": {\n    \"word_count_threshold\": 50,     # Longer content blocks\n    \"bypass_cache\": True         # Fresh content\n  },\n  \"css_selector\": \".article-body\"\n}\n\n```\n\n2. **Anti-Detection Configuration**\n```\nrequest = {\n  \"urls\": \"https://example.com\",\n  \"crawler_params\": {\n    \"simulate_user\": True,\n    \"magic\": True,\n    \"override_navigator\": True,\n    \"user_agent\": \"Mozilla/5.0 ...\",\n    \"headers\": {\n      \"Accept-Language\": \"en-US,en;q=0.9\"\n    }\n  }\n}\n\n```\n\n3. **LLM Extraction with Custom Parameters**\n```\nrequest = {\n  \"urls\": \"https://openai.com/pricing\",\n  \"extraction_config\": {\n    \"type\": \"llm\",\n    \"params\": {\n      \"provider\": \"openai/gpt-4\",\n      \"schema\": pricing_schema\n    }\n  },\n  \"crawler_params\": {\n    \"verbose\": True,\n    \"page_timeout\": 60000\n  },\n  \"extra\": {\n    \"word_count_threshold\": 1,\n    \"only_text\": True\n  }\n}\n\n```\n\n4. **Session-Based Dynamic Content**\n```\nrequest = {\n  \"urls\": \"https://example.com\",\n  \"crawler_params\": {\n    \"session_id\": \"dynamic_session\",\n    \"headless\": False,\n    \"page_timeout\": 60000\n  },\n  \"js_code\": [\"window.scrollTo(0, document.body.scrollHeight);\"],\n  \"wait_for\": \"js:() => document.querySelectorAll('.item').length > 10\",\n  \"extra\": {\n    \"delay_before_return_html\": 2.0\n  }\n}\n\n```\n\n5. **Screenshot with Custom Timing**\n```\nrequest = {\n  \"urls\": \"https://example.com\",\n  \"screenshot\": True,\n  \"crawler_params\": {\n    \"headless\": True,\n    \"screenshot_wait_for\": \".main-content\"\n  },\n  \"extra\": {\n    \"delay_before_return_html\": 3.0\n  }\n}\n\n```\n\n### Parameter Reference Table\nCategory | Parameter | Type | Description  \n---|---|---|---  \nBrowser | headless | bool | Run browser in headless mode  \nBrowser | browser_type | str | Browser engine selection  \nBrowser | user_agent | str | Custom user agent string  \nNetwork | proxy | str | Proxy server URL  \nNetwork | headers | dict | Custom HTTP headers  \nTiming | page_timeout | int | Page load timeout (ms)  \nTiming | delay_before_return_html | float | Wait before capture  \nAnti-Detection | simulate_user | bool | Human behavior simulation  \nAnti-Detection | magic | bool | Advanced protection  \nSession | session_id | str | Browser session ID  \nSession | user_data_dir | str | Profile directory  \nContent | word_count_threshold | int | Minimum words per block  \nContent | only_text | bool | Text-only extraction  \nContent | process_iframes | bool | Include iframe content  \nDebug | verbose | bool | Detailed logging  \nDebug | log_console | bool | Browser console logs  \n## Troubleshooting üîç\n### Common Issues\n1. **Connection Refused**\n```\nError: Connection refused at localhost:11235\n\n```\n\nSolution: Ensure the container is running and ports are properly mapped. \n2. **Resource Limits**\n```\nError: No available slots\n\n```\n\nSolution: Increase MAX_CONCURRENT_TASKS or container resources. \n3. **GPU Access**\n```\nError: GPU not found\n\n```\n\nSolution: Ensure proper NVIDIA drivers and use `--gpus all` flag. \n### Debug Mode\nAccess container for debugging: \n```\ndocker run -it --entrypoint /bin/bash unclecode/crawl4ai:all\n\n```\n\nView container logs: \n```\ndocker logs [container_id]\n\n```\n\n## Best Practices üåü\n1. **Resource Management** - Set appropriate memory and CPU limits - Monitor resource usage via health endpoint - Use basic version for simple crawling tasks\n2. **Scaling** - Use multiple containers for high load - Implement proper load balancing - Monitor performance metrics\n3. **Security** - Use environment variables for sensitive data - Implement proper network isolation - Regular security updates\n## API Reference üìö\n### Health Check\n```\nGET /health\n\n```\n\n### Submit Crawl Task\n```\nPOST /crawl\nContent-Type: application/json\n{\n  \"urls\": \"string or array\",\n  \"extraction_config\": {\n    \"type\": \"basic|llm|cosine|json_css\",\n    \"params\": {}\n  },\n  \"priority\": 1-10,\n  \"ttl\": 3600\n}\n\n```\n\n### Get Task Status\n```\nGET /task/{task_id}\n\n```\n\nFor more details, visit the [official documentation](https://docs.crawl4ai.com/core/<https:/docs.crawl4ai.com/>).\n##### Search\nxClose\nType to start searching\n",
  "links": [
    "https://docs.crawl4ai.com",
    "https://docs.crawl4ai.com/advanced/advanced-features",
    "https://docs.crawl4ai.com/advanced/crawl-dispatcher",
    "https://docs.crawl4ai.com/advanced/file-downloading",
    "https://docs.crawl4ai.com/advanced/hooks-auth",
    "https://docs.crawl4ai.com/advanced/identity-based-crawling",
    "https://docs.crawl4ai.com/advanced/lazy-loading",
    "https://docs.crawl4ai.com/advanced/multi-url-crawling",
    "https://docs.crawl4ai.com/advanced/proxy-security",
    "https://docs.crawl4ai.com/advanced/session-management",
    "https://docs.crawl4ai.com/advanced/ssl-certificate",
    "https://docs.crawl4ai.com/api/arun",
    "https://docs.crawl4ai.com/api/arun_many",
    "https://docs.crawl4ai.com/api/async-webcrawler",
    "https://docs.crawl4ai.com/api/crawl-result",
    "https://docs.crawl4ai.com/api/parameters",
    "https://docs.crawl4ai.com/api/strategies",
    "https://docs.crawl4ai.com/blog",
    "https://docs.crawl4ai.com/browser-crawler-config",
    "https://docs.crawl4ai.com/cache-modes",
    "https://docs.crawl4ai.com/content-selection",
    "https://docs.crawl4ai.com/crawler-result",
    "https://docs.crawl4ai.com/extraction/chunking",
    "https://docs.crawl4ai.com/extraction/clustring-strategies",
    "https://docs.crawl4ai.com/extraction/llm-strategies",
    "https://docs.crawl4ai.com/extraction/no-llm-strategies",
    "https://docs.crawl4ai.com/fit-markdown",
    "https://docs.crawl4ai.com/installation",
    "https://docs.crawl4ai.com/link-media",
    "https://docs.crawl4ai.com/local-files",
    "https://docs.crawl4ai.com/markdown-generation",
    "https://docs.crawl4ai.com/page-interaction",
    "https://docs.crawl4ai.com/quickstart",
    "https://docs.crawl4ai.com/simple-crawling"
  ],
  "depth": 1,
  "stats": {
    "processed": 18,
    "total": 0,
    "depth": 1,
    "elapsed": "0:00:22",
    "page_limit": 34
  }
}