{
  "url": "https://docs.crawl4ai.com/api/arun",
  "timestamp": "2025-02-06T13:23:25.908734",
  "html": "<!DOCTYPE html><html lang=\"en\" style=\"scroll-padding-top: 50px;\"><head>\n    \n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <meta name=\"generator\" content=\"mkdocs-1.6.0, mkdocs-terminal-4.4.0\">\n    \n    <meta name=\"description\" content=\"üöÄü§ñ Crawl4AI, Open-source LLM-Friendly Web Crawler &amp; Scraper\"> \n     \n    \n    <link rel=\"canonical\" href=\"https://docs.crawl4ai.com/api/arun/\"><link rel=\"icon\" type=\"image/png\" sizes=\"192x192\" href=\"../../img/android-chrome-192x192.png\">\n<link rel=\"icon\" type=\"image/png\" sizes=\"512x512\" href=\"../../img/android-chrome-512x512.png\">\n<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"../../img/apple-touch-icon.png\">\n<link rel=\"shortcut icon\" type=\"image/png\" sizes=\"48x48\" href=\"../../img/favicon.ico\">\n<link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"../../img/favicon-16x16.png\">\n<link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"../../img/favicon-32x32.png\">\n\n\n    \n \n<title>arun() - Crawl4AI Documentation (v0.4.3bx)</title>\n\n\n<link href=\"../../css/fontawesome/css/fontawesome.min.css\" rel=\"stylesheet\">\n<link href=\"../../css/fontawesome/css/solid.min.css\" rel=\"stylesheet\">\n<link href=\"../../css/normalize.css\" rel=\"stylesheet\">\n<link href=\"../../css/terminal.css\" rel=\"stylesheet\">\n<link href=\"../../css/theme.css\" rel=\"stylesheet\">\n<link href=\"../../css/theme.tile_grid.css\" rel=\"stylesheet\">\n<link href=\"../../css/theme.footer.css\" rel=\"stylesheet\">\n<!-- dark color palette -->\n<link href=\"../../css/palettes/dark.css\" rel=\"stylesheet\">\n\n<!-- page layout -->\n<style>\n/* initially set page layout to a one column grid */\n.terminal-mkdocs-main-grid {\n    display: grid;\n    grid-column-gap: 1.4em;\n    grid-template-columns: auto;\n    grid-template-rows: auto;\n}\n\n/*  \n*   when side navigation is not hidden, use a two column grid.  \n*   if the screen is too narrow, fall back to the initial one column grid layout.\n*   in this case the main content will be placed under the navigation panel. \n*/\n@media only screen and (min-width: 70em) {\n    .terminal-mkdocs-main-grid {\n        grid-template-columns: 4fr 9fr;\n    }\n}</style>\n\n\n\n    \n    <link href=\"../../assets/styles.css\" rel=\"stylesheet\"> \n    <link href=\"../../assets/highlight.css\" rel=\"stylesheet\"> \n    <link href=\"../../assets/dmvendor.css\" rel=\"stylesheet\">  \n    \n    \n\n    \n    <!-- search css support -->\n<link href=\"../../css/search/bootstrap-modal.css\" rel=\"stylesheet\">\n<!-- search scripts -->\n<script>\n    var base_url = \"../..\",\n    shortcuts = \"{}\";\n</script>\n<script src=\"../../js/jquery/jquery-1.10.1.min.js\" defer=\"\"></script>\n<script src=\"../../js/bootstrap/bootstrap.min.js\" defer=\"\"></script>\n<script src=\"../../js/mkdocs/base.js\" defer=\"\"></script>\n    \n    \n    \n    \n    <script src=\"../../assets/highlight.min.js\"></script>\n    \n    <script src=\"../../assets/highlight_init.js\"></script>\n    \n    <script src=\"https://buttons.github.io/buttons.js\"></script>\n    \n    <script src=\"../../search/main.js\"></script>\n    \n\n    \n</head>\n\n<body class=\"terminal\" style=\"\"><div class=\"container\">\n    <div class=\"terminal-nav\">\n        <header class=\"terminal-logo\">\n            <div id=\"mkdocs-terminal-site-name\" class=\"logo terminal-prompt\"><a href=\"https://docs.crawl4ai.com/\" class=\"no-style\">Crawl4AI Documentation (v0.4.3bx)</a></div>\n        </header>\n        \n        <nav class=\"terminal-menu\">\n            \n            <ul vocab=\"https://schema.org/\" typeof=\"BreadcrumbList\">\n                \n                \n                <li property=\"itemListElement\" typeof=\"ListItem\">\n                    <a href=\"../..\" class=\"menu-item \" property=\"item\" typeof=\"WebPage\">\n                        <span property=\"name\">Home</span>\n                    </a>\n                    <meta property=\"position\" content=\"0\">\n                </li>\n                \n                \n                \n                \n                <li property=\"itemListElement\" typeof=\"ListItem\">\n                    <a href=\"../../core/quickstart/\" class=\"menu-item \" property=\"item\" typeof=\"WebPage\">\n                        <span property=\"name\">Quick Start</span>\n                    </a>\n                    <meta property=\"position\" content=\"1\">\n                </li>\n                \n                \n                \n                \n                \n                \n                \n                \n                \n                \n                \n                    \n                    \n\n\n<li property=\"itemListElement\" typeof=\"ListItem\">\n    <a href=\"#\" class=\"menu-item\" data-toggle=\"modal\" data-target=\"#mkdocs_search_modal\" property=\"item\" typeof=\"SearchAction\">\n        <i aria-hidden=\"true\" class=\"fa fa-search\"></i> <span property=\"name\">Search</span>\n    </a>\n    <meta property=\"position\" content=\"2\">\n</li>\n                    \n            </ul>\n            \n        </nav>\n    </div>\n</div>\n        \n    <div class=\"container\">\n        <div class=\"terminal-mkdocs-main-grid\"><aside id=\"terminal-mkdocs-side-panel\"><nav>\n  \n    <ul class=\"terminal-mkdocs-side-nav-items\">\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../..\">Home</a>\n        \n    \n    \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        \n            \n            \n            <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index\">Setup &amp; Installation</span>\n        \n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/installation/\">Installation</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/docker-deploymeny/\">Docker Deployment</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/quickstart/\">Quick Start</a>\n        \n    \n    \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        \n            \n            \n            <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index\">Blog &amp; Changelog</span>\n        \n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../blog/\">Blog Home</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"https://github.com/unclecode/crawl4ai/blob/main/CHANGELOG.md\">Changelog</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        \n            \n            \n            <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index\">Core</span>\n        \n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/simple-crawling/\">Simple Crawling</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/crawler-result/\">Crawler Result</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/browser-crawler-config/\">Browser &amp; Crawler Config</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/markdown-generation/\">Markdown Generation</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/fit-markdown/\">Fit Markdown</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/page-interaction/\">Page Interaction</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/content-selection/\">Content Selection</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/cache-modes/\">Cache Modes</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/local-files/\">Local Files &amp; Raw HTML</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../core/link-media/\">Link &amp; Media</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        \n            \n            \n            <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index\">Advanced</span>\n        \n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/advanced-features/\">Overview</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/file-downloading/\">File Downloading</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/lazy-loading/\">Lazy Loading</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/hooks-auth/\">Hooks &amp; Auth</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/proxy-security/\">Proxy &amp; Security</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/session-management/\">Session Management</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/multi-url-crawling/\">Multi-URL Crawling</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/crawl-dispatcher/\">Crawl Dispatcher</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/identity-based-crawling/\">Identity Based Crawling</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../advanced/ssl-certificate/\">SSL Certificate</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        \n            \n            \n            <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item terminal-mkdocs-side-nav-section-no-index\">Extraction</span>\n        \n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../extraction/no-llm-strategies/\">LLM-Free Strategies</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../extraction/llm-strategies/\">LLM Strategies</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../extraction/clustring-strategies/\">Clustering Strategies</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../../extraction/chunking/\">Chunking</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n          \n\n\n\n<li class=\"terminal-mkdocs-side-nav-li\">\n    \n    \n        \n        \n\n        \n            \n    \n        \n        <span class=\"\n        \n    \n\n    terminal-mkdocs-side-nav-item--active terminal-mkdocs-side-nav-section-no-index\">API Reference</span>\n    \n    \n        \n      \n        \n            <ul class=\"terminal-mkdocs-side-nav-li-ul\">\n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../async-webcrawler/\">AsyncWebCrawler</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        <span class=\"\n\n    terminal-mkdocs-side-nav-item--active\">arun()</span>\n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../arun_many/\">arun_many()</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../parameters/\">Browser &amp; Crawler Config</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../crawl-result/\">CrawlResult</a>\n        \n    \n    </li>\n            \n        \n            \n            \n\n             \n                <li class=\"terminal-mkdocs-side-nav-li-ul-li\">\n    \n        \n        \n            <a class=\"\n\n    terminal-mkdocs-side-nav-item\" href=\"../strategies/\">Strategies</a>\n        \n    \n    </li>\n            \n            \n    </ul>\n        \n    \n  </li>\n        \n    </ul>\n  \n</nav><hr>\n<nav>\n    <ul>\n        <li><a href=\"#arun-parameter-guide-new-approach\">arun() Parameter Guide (New Approach)</a></li>\n        <li><a href=\"#1-core-usage\">1. Core Usage</a></li><li><a href=\"#2-cache-control\">2. Cache Control</a></li><li><a href=\"#3-content-processing-selection\">3. Content Processing &amp; Selection</a></li><li><a href=\"#4-page-navigation-timing\">4. Page Navigation &amp; Timing</a></li><li><a href=\"#5-session-management\">5. Session Management</a></li><li><a href=\"#6-screenshot-pdf-media-options\">6. Screenshot, PDF &amp; Media Options</a></li><li><a href=\"#7-extraction-strategy\">7. Extraction Strategy</a></li><li><a href=\"#8-comprehensive-example\">8. Comprehensive Example</a></li><li><a href=\"#9-best-practices\">9. Best Practices</a></li><li><a href=\"#10-conclusion\">10. Conclusion</a></li>\n    </ul>\n</nav>\n</aside>\n            <main id=\"terminal-mkdocs-main-content\">\n<section id=\"mkdocs-terminal-content\">\n    <h1 id=\"arun-parameter-guide-new-approach\"><code>arun()</code> Parameter Guide (New Approach)</h1>\n<p>In Crawl4AI‚Äôs <strong>latest</strong> configuration model, nearly all parameters that once went directly to <code>arun()</code> are now part of <strong><code>CrawlerRunConfig</code></strong>.‚ÄÄWhen calling <code>arun()</code>, you provide:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-csharp\"><span class=\"hljs-keyword\">await</span> crawler.arun(\n    url=<span class=\"hljs-string\">\"https://example.com\"</span>,  \n    config=my_run_config\n)\n</code></pre></div>\n<p>Below is an organized look at the parameters that can go inside <code>CrawlerRunConfig</code>, divided by their functional areas.‚ÄÄFor <strong>Browser</strong> settings (e.g., <code>headless</code>, <code>browser_type</code>), see <a href=\"../parameters/\">BrowserConfig</a>.</p>\n<hr>\n<h2 id=\"1-core-usage\">1.‚ÄÄCore Usage</h2>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-python\"><span class=\"hljs-keyword\">from</span> crawl4ai <span class=\"hljs-keyword\">import</span> AsyncWebCrawler, CrawlerRunConfig, CacheMode\n\n<span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">main</span>():\n    run_config = CrawlerRunConfig(\n        verbose=<span class=\"hljs-literal\">True</span>,            <span class=\"hljs-comment\"># Detailed logging</span>\n        cache_mode=CacheMode.ENABLED,  <span class=\"hljs-comment\"># Use normal read/write cache</span>\n        check_robots_txt=<span class=\"hljs-literal\">True</span>,   <span class=\"hljs-comment\"># Respect robots.txt rules</span>\n        <span class=\"hljs-comment\"># ...‚ÄÄother parameters</span>\n    )\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">with</span> AsyncWebCrawler() <span class=\"hljs-keyword\">as</span> crawler:\n        result = <span class=\"hljs-keyword\">await</span> crawler.arun(\n            url=<span class=\"hljs-string\">\"https://example.com\"</span>,\n            config=run_config\n        )\n\n        <span class=\"hljs-comment\"># Check if blocked by robots.txt</span>\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> result.success <span class=\"hljs-keyword\">and</span> result.status_code == <span class=\"hljs-number\">403</span>:\n            <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f\"Error: <span class=\"hljs-subst\">{result.error_message}</span>\"</span>)\n</code></pre></div>\n<p><strong>Key Fields</strong>:\n- <code>verbose=True</code> logs each crawl step.‚ÄÄ \n- <code>cache_mode</code> decides how to read/write the local crawl cache.</p>\n<hr>\n<h2 id=\"2-cache-control\">2.‚ÄÄCache Control</h2>\n<p><strong><code>cache_mode</code></strong> (default: <code>CacheMode.ENABLED</code>)<br>\nUse a built-in enum from <code>CacheMode</code>:</p>\n<ul>\n<li><code>ENABLED</code>: Normal caching‚Äîreads if available, writes if missing.</li>\n<li><code>DISABLED</code>: No caching‚Äîalways refetch pages.</li>\n<li><code>READ_ONLY</code>: Reads from cache only; no new writes.</li>\n<li><code>WRITE_ONLY</code>: Writes to cache but doesn‚Äôt read existing data.</li>\n<li><code>BYPASS</code>: Skips reading cache for this crawl (though it might still write if set up that way).</li>\n</ul>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-makefile\">run_config = CrawlerRunConfig(\n    cache_mode=CacheMode.BYPASS\n)\n</code></pre></div>\n<p><strong>Additional flags</strong>:</p>\n<ul>\n<li><code>bypass_cache=True</code> acts like <code>CacheMode.BYPASS</code>.</li>\n<li><code>disable_cache=True</code> acts like <code>CacheMode.DISABLED</code>.</li>\n<li><code>no_cache_read=True</code> acts like <code>CacheMode.WRITE_ONLY</code>.</li>\n<li><code>no_cache_write=True</code> acts like <code>CacheMode.READ_ONLY</code>.</li>\n</ul>\n<hr>\n<h2 id=\"3-content-processing-selection\">3.‚ÄÄContent Processing &amp; Selection</h2>\n<h3 id=\"31-text-processing\">3.1 Text Processing</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">run_config <span class=\"hljs-punctuation\">=</span> CrawlerRunConfig<span class=\"hljs-punctuation\">(</span>\n    word_count_threshold<span class=\"hljs-punctuation\">=</span><span class=\"hljs-number\">10</span>,   <span class=\"hljs-comment\"># Ignore text blocks &lt;10 words</span>\n    only_text<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">False</span>,           <span class=\"hljs-comment\"># If True, tries to remove non-text elements</span>\n    keep_data_attributes<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">False</span> <span class=\"hljs-comment\"># Keep or discard data-* attributes</span>\n<span class=\"hljs-punctuation\">)</span>\n</code></pre></div>\n<h3 id=\"32-content-selection\">3.2 Content Selection</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">run_config <span class=\"hljs-punctuation\">=</span> CrawlerRunConfig<span class=\"hljs-punctuation\">(</span>\n    css_selector<span class=\"hljs-punctuation\">=</span><span class=\"hljs-string\">\".main-content\"</span>,  <span class=\"hljs-comment\"># Focus on .main-content region only</span>\n    excluded_tags<span class=\"hljs-punctuation\">=</span><span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"form\"</span>, <span class=\"hljs-string\">\"nav\"</span><span class=\"hljs-punctuation\">]</span>, <span class=\"hljs-comment\"># Remove entire tag blocks</span>\n    remove_forms<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">True</span>,             <span class=\"hljs-comment\"># Specifically strip &lt;form&gt; elements</span>\n    remove_overlay_elements<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">True</span>,  <span class=\"hljs-comment\"># Attempt to remove modals/popups</span>\n<span class=\"hljs-punctuation\">)</span>\n</code></pre></div>\n<h3 id=\"33-link-handling\">3.3 Link Handling</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">run_config <span class=\"hljs-punctuation\">=</span> CrawlerRunConfig<span class=\"hljs-punctuation\">(</span>\n    exclude_external_links<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">True</span>,         <span class=\"hljs-comment\"># Remove external links from final content</span>\n    exclude_social_media_links<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">True</span>,     <span class=\"hljs-comment\"># Remove links to known social sites</span>\n    exclude_domains<span class=\"hljs-punctuation\">=</span><span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"ads.example.com\"</span><span class=\"hljs-punctuation\">]</span>, <span class=\"hljs-comment\"># Exclude links to these domains</span>\n    exclude_social_media_domains<span class=\"hljs-punctuation\">=</span><span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"facebook.com\"</span>,<span class=\"hljs-string\">\"twitter.com\"</span><span class=\"hljs-punctuation\">]</span>, <span class=\"hljs-comment\"># Extend the default list</span>\n<span class=\"hljs-punctuation\">)</span>\n</code></pre></div>\n<h3 id=\"34-media-filtering\">3.4 Media Filtering</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">run_config <span class=\"hljs-punctuation\">=</span> CrawlerRunConfig<span class=\"hljs-punctuation\">(</span>\n    exclude_external_images<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">True</span>  <span class=\"hljs-comment\"># Strip images from other domains</span>\n<span class=\"hljs-punctuation\">)</span>\n</code></pre></div>\n<hr>\n<h2 id=\"4-page-navigation-timing\">4.‚ÄÄPage Navigation &amp; Timing</h2>\n<h3 id=\"41-basic-browser-flow\">4.1 Basic Browser Flow</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-makefile\">run_config = CrawlerRunConfig(\n    wait_for=<span class=\"hljs-string\">\"css:.dynamic-content\"</span>, <span class=\"hljs-comment\"># Wait for .dynamic-content</span>\n    delay_before_return_html=2.0,    <span class=\"hljs-comment\"># Wait 2s before capturing final HTML</span>\n    page_timeout=60000,             <span class=\"hljs-comment\"># Navigation &amp; script timeout (ms)</span>\n)\n</code></pre></div>\n<p><strong>Key Fields</strong>:</p>\n<ul>\n<li><code>wait_for</code>:  </li>\n<li><code>\"css:selector\"</code> or  </li>\n<li>\n<p><code>\"js:() =&gt; boolean\"</code><br>\n  e.g.‚ÄÄ<code>js:() =&gt; document.querySelectorAll('.item').length &gt; 10</code>.</p>\n</li>\n<li>\n<p><code>mean_delay</code> &amp; <code>max_range</code>: define random delays for <code>arun_many()</code> calls.‚ÄÄ </p>\n</li>\n<li><code>semaphore_count</code>: concurrency limit when crawling multiple URLs.</li>\n</ul>\n<h3 id=\"42-javascript-execution\">4.2 JavaScript Execution</h3>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">run_config <span class=\"hljs-punctuation\">=</span> CrawlerRunConfig<span class=\"hljs-punctuation\">(</span>\n    js_code<span class=\"hljs-punctuation\">=</span><span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-string\">\"window.scrollTo(0, document.body.scrollHeight);\"</span>,\n        <span class=\"hljs-string\">\"document.querySelector('.load-more')?.click();\"</span>\n    <span class=\"hljs-punctuation\">]</span>,\n    js_only<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">False</span>\n<span class=\"hljs-punctuation\">)</span>\n</code></pre></div>\n<ul>\n<li><code>js_code</code> can be a single string or a list of strings.‚ÄÄ </li>\n<li><code>js_only=True</code> means ‚ÄúI‚Äôm continuing in the same session with new JS steps, no new full navigation.‚Äù</li>\n</ul>\n<h3 id=\"43-anti-bot\">4.3 Anti-Bot</h3>\n<p></p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">run_config <span class=\"hljs-punctuation\">=</span> CrawlerRunConfig<span class=\"hljs-punctuation\">(</span>\n    magic<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">True</span>,\n    simulate_user<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">True</span>,\n    override_navigator<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">True</span>\n<span class=\"hljs-punctuation\">)</span>\n</code></pre></div>\n- <code>magic=True</code> tries multiple stealth features.‚ÄÄ \n- <code>simulate_user=True</code> mimics mouse movements or random delays.‚ÄÄ \n- <code>override_navigator=True</code> fakes some navigator properties (like user agent checks).<p></p>\n<hr>\n<h2 id=\"5-session-management\">5.‚ÄÄSession Management</h2>\n<p><strong><code>session_id</code></strong>: \n</p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-makefile\">run_config = CrawlerRunConfig(\n    session_id=<span class=\"hljs-string\">\"my_session123\"</span>\n)\n</code></pre></div>\nIf re-used in subsequent <code>arun()</code> calls, the same tab/page context is continued (helpful for multi-step tasks or stateful browsing).<p></p>\n<hr>\n<h2 id=\"6-screenshot-pdf-media-options\">6.‚ÄÄScreenshot, PDF &amp; Media Options</h2>\n<p></p><div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-graphql\">run_config <span class=\"hljs-punctuation\">=</span> CrawlerRunConfig<span class=\"hljs-punctuation\">(</span>\n    screenshot<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">True</span>,             <span class=\"hljs-comment\"># Grab a screenshot as base64</span>\n    screenshot_wait_for<span class=\"hljs-punctuation\">=</span><span class=\"hljs-number\">1.0</span>,     <span class=\"hljs-comment\"># Wait 1s before capturing</span>\n    pdf<span class=\"hljs-punctuation\">=</span><span class=\"hljs-literal\">True</span>,                    <span class=\"hljs-comment\"># Also produce a PDF</span>\n    image_description_min_word_threshold<span class=\"hljs-punctuation\">=</span><span class=\"hljs-number\">5</span>,  <span class=\"hljs-comment\"># If analyzing alt text</span>\n    image_score_threshold<span class=\"hljs-punctuation\">=</span><span class=\"hljs-number\">3</span>,                <span class=\"hljs-comment\"># Filter out low-score images</span>\n<span class=\"hljs-punctuation\">)</span>\n</code></pre></div>\n<strong>Where they appear</strong>:\n- <code>result.screenshot</code> ‚Üí Base64 screenshot string.\n- <code>result.pdf</code> ‚Üí Byte array with PDF data.<p></p>\n<hr>\n<h2 id=\"7-extraction-strategy\">7.‚ÄÄExtraction Strategy</h2>\n<p><strong>For advanced data extraction</strong> (CSS/LLM-based), set <code>extraction_strategy</code>:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-makefile\">run_config = CrawlerRunConfig(\n    extraction_strategy=my_css_or_llm_strategy\n)\n</code></pre></div>\n<p>The extracted data will appear in <code>result.extracted_content</code>.</p>\n<hr>\n<h2 id=\"8-comprehensive-example\">8.‚ÄÄComprehensive Example</h2>\n<p>Below is a snippet combining many parameters:</p>\n<div class=\"highlight\"><pre><span></span><code data-highlighted=\"yes\" class=\"hljs language-python\"><span class=\"hljs-keyword\">import</span> asyncio\n<span class=\"hljs-keyword\">from</span> crawl4ai <span class=\"hljs-keyword\">import</span> AsyncWebCrawler, CrawlerRunConfig, CacheMode\n<span class=\"hljs-keyword\">from</span> crawl4ai.extraction_strategy <span class=\"hljs-keyword\">import</span> JsonCssExtractionStrategy\n\n<span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">main</span>():\n    <span class=\"hljs-comment\"># Example schema</span>\n    schema = {\n        <span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"Articles\"</span>,\n        <span class=\"hljs-string\">\"baseSelector\"</span>: <span class=\"hljs-string\">\"article.post\"</span>,\n        <span class=\"hljs-string\">\"fields\"</span>: [\n            {<span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"title\"</span>, <span class=\"hljs-string\">\"selector\"</span>: <span class=\"hljs-string\">\"h2\"</span>, <span class=\"hljs-string\">\"type\"</span>: <span class=\"hljs-string\">\"text\"</span>},\n            {<span class=\"hljs-string\">\"name\"</span>: <span class=\"hljs-string\">\"link\"</span>,  <span class=\"hljs-string\">\"selector\"</span>: <span class=\"hljs-string\">\"a\"</span>,  <span class=\"hljs-string\">\"type\"</span>: <span class=\"hljs-string\">\"attribute\"</span>, <span class=\"hljs-string\">\"attribute\"</span>: <span class=\"hljs-string\">\"href\"</span>}\n        ]\n    }\n\n    run_config = CrawlerRunConfig(\n        <span class=\"hljs-comment\"># Core</span>\n        verbose=<span class=\"hljs-literal\">True</span>,\n        cache_mode=CacheMode.ENABLED,\n        check_robots_txt=<span class=\"hljs-literal\">True</span>,   <span class=\"hljs-comment\"># Respect robots.txt rules</span>\n\n        <span class=\"hljs-comment\"># Content</span>\n        word_count_threshold=<span class=\"hljs-number\">10</span>,\n        css_selector=<span class=\"hljs-string\">\"main.content\"</span>,\n        excluded_tags=[<span class=\"hljs-string\">\"nav\"</span>, <span class=\"hljs-string\">\"footer\"</span>],\n        exclude_external_links=<span class=\"hljs-literal\">True</span>,\n\n        <span class=\"hljs-comment\"># Page &amp; JS</span>\n        js_code=<span class=\"hljs-string\">\"document.querySelector('.show-more')?.click();\"</span>,\n        wait_for=<span class=\"hljs-string\">\"css:.loaded-block\"</span>,\n        page_timeout=<span class=\"hljs-number\">30000</span>,\n\n        <span class=\"hljs-comment\"># Extraction</span>\n        extraction_strategy=JsonCssExtractionStrategy(schema),\n\n        <span class=\"hljs-comment\"># Session</span>\n        session_id=<span class=\"hljs-string\">\"persistent_session\"</span>,\n\n        <span class=\"hljs-comment\"># Media</span>\n        screenshot=<span class=\"hljs-literal\">True</span>,\n        pdf=<span class=\"hljs-literal\">True</span>,\n\n        <span class=\"hljs-comment\"># Anti-bot</span>\n        simulate_user=<span class=\"hljs-literal\">True</span>,\n        magic=<span class=\"hljs-literal\">True</span>,\n    )\n\n    <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">with</span> AsyncWebCrawler() <span class=\"hljs-keyword\">as</span> crawler:\n        result = <span class=\"hljs-keyword\">await</span> crawler.arun(<span class=\"hljs-string\">\"https://example.com/posts\"</span>, config=run_config)\n        <span class=\"hljs-keyword\">if</span> result.success:\n            <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"HTML length:\"</span>, <span class=\"hljs-built_in\">len</span>(result.cleaned_html))\n            <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Extraction JSON:\"</span>, result.extracted_content)\n            <span class=\"hljs-keyword\">if</span> result.screenshot:\n                <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Screenshot length:\"</span>, <span class=\"hljs-built_in\">len</span>(result.screenshot))\n            <span class=\"hljs-keyword\">if</span> result.pdf:\n                <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"PDF bytes length:\"</span>, <span class=\"hljs-built_in\">len</span>(result.pdf))\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"Error:\"</span>, result.error_message)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">\"__main__\"</span>:\n    asyncio.run(main())\n</code></pre></div>\n<p><strong>What we covered</strong>:</p>\n<p>1.‚ÄÄ<strong>Crawling</strong> the main content region, ignoring external links.‚ÄÄ \n2.‚ÄÄRunning <strong>JavaScript</strong> to click ‚Äú.show-more‚Äù.‚ÄÄ \n3.‚ÄÄ<strong>Waiting</strong> for ‚Äú.loaded-block‚Äù to appear.‚ÄÄ \n4.‚ÄÄGenerating a <strong>screenshot</strong> &amp; <strong>PDF</strong> of the final page.‚ÄÄ \n5.‚ÄÄExtracting repeated ‚Äúarticle.post‚Äù elements with a <strong>CSS-based</strong> extraction strategy.</p>\n<hr>\n<h2 id=\"9-best-practices\">9.‚ÄÄBest Practices</h2>\n<p>1.‚ÄÄ<strong>Use <code>BrowserConfig</code> for global browser</strong> settings (headless, user agent).‚ÄÄ \n2.‚ÄÄ<strong>Use <code>CrawlerRunConfig</code></strong> to handle the <strong>specific</strong> crawl needs: content filtering, caching, JS, screenshot, extraction, etc.‚ÄÄ \n3.‚ÄÄKeep your <strong>parameters consistent</strong> in run configs‚Äîespecially if you‚Äôre part of a large codebase with multiple crawls.‚ÄÄ \n4.‚ÄÄ<strong>Limit</strong> large concurrency (<code>semaphore_count</code>) if the site or your system can‚Äôt handle it.‚ÄÄ \n5.‚ÄÄFor dynamic pages, set <code>js_code</code> or <code>scan_full_page</code> so you load all content.</p>\n<hr>\n<h2 id=\"10-conclusion\">10.‚ÄÄConclusion</h2>\n<p>All parameters that used to be direct arguments to <code>arun()</code> now belong in <strong><code>CrawlerRunConfig</code></strong>.‚ÄÄThis approach:</p>\n<ul>\n<li>Makes code <strong>clearer</strong> and <strong>more maintainable</strong>.‚ÄÄ </li>\n<li>Minimizes confusion about which arguments affect global vs.‚ÄÄper-crawl behavior.‚ÄÄ </li>\n<li>Allows you to create <strong>reusable</strong> config objects for different pages or tasks.</li>\n</ul>\n<p>For a <strong>full</strong> reference, check out the <a href=\"../parameters/\">CrawlerRunConfig Docs</a>.‚ÄÄ</p>\n<p>Happy crawling with your <strong>structured, flexible</strong> config approach!</p>\n</section>\n\n            </main>\n        </div>\n        <hr><footer>\n    <div class=\"terminal-mkdocs-footer-grid\">\n        <div id=\"terminal-mkdocs-footer-copyright-info\">\n             Site built with <a href=\"http://www.mkdocs.org\">MkDocs</a> and <a href=\"https://github.com/ntno/mkdocs-terminal\">Terminal for MkDocs</a>.\n        </div>\n    </div>\n</footer>\n    </div>\n\n    \n    <div class=\"modal\" id=\"mkdocs_search_modal\" tabindex=\"-1\" role=\"alertdialog\" aria-modal=\"true\" aria-labelledby=\"searchModalLabel\">\n    <div class=\"modal-dialog modal-lg\" role=\"search\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"searchModalLabel\">Search</h5>\n                <button type=\"button\" class=\"close btn btn-default btn-ghost\" data-dismiss=\"modal\"><span aria-hidden=\"true\">x</span><span class=\"sr-only\">Close</span></button>\n            </div>\n            <div class=\"modal-body\">\n                <p id=\"searchInputLabel\">Type to start searching</p>\n                <form>\n                    <div class=\"form-group\">\n                        <input type=\"search\" class=\"form-control\" aria-labelledby=\"searchInputLabel\" placeholder=\"\" id=\"mkdocs-search-query\" title=\"Please enter search terms here\">\n                    </div>\n                </form>\n                <div id=\"mkdocs-search-results\" data-no-results-text=\"No document matches found\"></div>\n            </div>\n            <div class=\"modal-footer\">\n            </div>\n        </div>\n    </div>\n</div>\n    \n    \n\n\n</body></html>",
  "markdown": "# `arun()` Parameter Guide (New Approach)\nIn Crawl4AI‚Äôs **latest** configuration model, nearly all parameters that once went directly to `arun()` are now part of **`CrawlerRunConfig`**. When calling`arun()` , you provide:\n```\nawait crawler.arun(\n  url=\"https://example.com\", \n  config=my_run_config\n)\n\n```\n\nBelow is an organized look at the parameters that can go inside `CrawlerRunConfig`, divided by their functional areas. For **Browser** settings (e.g., `headless`, `browser_type`), see [BrowserConfig](https://docs.crawl4ai.com/api/<../parameters/>).\n## 1. Core Usage\n```\nfrom crawl4ai import AsyncWebCrawler, CrawlerRunConfig, CacheMode\nasync def main():\n  run_config = CrawlerRunConfig(\n    verbose=True,      # Detailed logging\n    cache_mode=CacheMode.ENABLED, # Use normal read/write cache\n    check_robots_txt=True,  # Respect robots.txt rules\n    # ...‚ÄÄother parameters\n  )\n  async with AsyncWebCrawler() as crawler:\n    result = await crawler.arun(\n      url=\"https://example.com\",\n      config=run_config\n    )\n    # Check if blocked by robots.txt\n    if not result.success and result.status_code == 403:\n      print(f\"Error: {result.error_message}\")\n\n```\n\n**Key Fields** : - `verbose=True` logs each crawl step. - `cache_mode` decides how to read/write the local crawl cache.\n## 2. Cache Control\n**`cache_mode`**(default:`CacheMode.ENABLED`) Use a built-in enum from `CacheMode`:\n  * `ENABLED`: Normal caching‚Äîreads if available, writes if missing.\n  * `DISABLED`: No caching‚Äîalways refetch pages.\n  * `READ_ONLY`: Reads from cache only; no new writes.\n  * `WRITE_ONLY`: Writes to cache but doesn‚Äôt read existing data.\n  * `BYPASS`: Skips reading cache for this crawl (though it might still write if set up that way).\n\n\n```\nrun_config = CrawlerRunConfig(\n  cache_mode=CacheMode.BYPASS\n)\n\n```\n\n**Additional flags** :\n  * `bypass_cache=True` acts like `CacheMode.BYPASS`.\n  * `disable_cache=True` acts like `CacheMode.DISABLED`.\n  * `no_cache_read=True` acts like `CacheMode.WRITE_ONLY`.\n  * `no_cache_write=True` acts like `CacheMode.READ_ONLY`.\n\n\n## 3. Content Processing & Selection\n### 3.1 Text Processing\n```\nrun_config = CrawlerRunConfig(\n  word_count_threshold=10,  # Ignore text blocks <10 words\n  only_text=False,      # If True, tries to remove non-text elements\n  keep_data_attributes=False # Keep or discard data-* attributes\n)\n\n```\n\n### 3.2 Content Selection\n```\nrun_config = CrawlerRunConfig(\n  css_selector=\".main-content\", # Focus on .main-content region only\n  excluded_tags=[\"form\", \"nav\"], # Remove entire tag blocks\n  remove_forms=True,       # Specifically strip <form> elements\n  remove_overlay_elements=True, # Attempt to remove modals/popups\n)\n\n```\n\n### 3.3 Link Handling\n```\nrun_config = CrawlerRunConfig(\n  exclude_external_links=True,     # Remove external links from final content\n  exclude_social_media_links=True,   # Remove links to known social sites\n  exclude_domains=[\"ads.example.com\"], # Exclude links to these domains\n  exclude_social_media_domains=[\"facebook.com\",\"twitter.com\"], # Extend the default list\n)\n\n```\n\n### 3.4 Media Filtering\n```\nrun_config = CrawlerRunConfig(\n  exclude_external_images=True # Strip images from other domains\n)\n\n```\n\n## 4. Page Navigation & Timing\n### 4.1 Basic Browser Flow\n```\nrun_config = CrawlerRunConfig(\n  wait_for=\"css:.dynamic-content\", # Wait for .dynamic-content\n  delay_before_return_html=2.0,  # Wait 2s before capturing final HTML\n  page_timeout=60000,       # Navigation & script timeout (ms)\n)\n\n```\n\n**Key Fields** :\n  * `wait_for`: \n  * `\"css:selector\"` or \n  * `\"js:() => boolean\"` e.g. `js:() => document.querySelectorAll('.item').length > 10`.\n  * `mean_delay` & `max_range`: define random delays for `arun_many()` calls. \n  * `semaphore_count`: concurrency limit when crawling multiple URLs.\n\n\n### 4.2 JavaScript Execution\n```\nrun_config = CrawlerRunConfig(\n  js_code=[\n    \"window.scrollTo(0, document.body.scrollHeight);\",\n    \"document.querySelector('.load-more')?.click();\"\n  ],\n  js_only=False\n)\n\n```\n\n  * `js_code` can be a single string or a list of strings. \n  * `js_only=True` means ‚ÄúI‚Äôm continuing in the same session with new JS steps, no new full navigation.‚Äù\n\n\n### 4.3 Anti-Bot\n```\nrun_config = CrawlerRunConfig(\n  magic=True,\n  simulate_user=True,\n  override_navigator=True\n)\n\n```\n\n- `magic=True` tries multiple stealth features. - `simulate_user=True` mimics mouse movements or random delays. - `override_navigator=True` fakes some navigator properties (like user agent checks). \n## 5. Session Management\n**`session_id`**:\n```\nrun_config = CrawlerRunConfig(\n  session_id=\"my_session123\"\n)\n\n```\n\nIf re-used in subsequent `arun()` calls, the same tab/page context is continued (helpful for multi-step tasks or stateful browsing). \n## 6. Screenshot, PDF & Media Options\n```\nrun_config = CrawlerRunConfig(\n  screenshot=True,       # Grab a screenshot as base64\n  screenshot_wait_for=1.0,   # Wait 1s before capturing\n  pdf=True,          # Also produce a PDF\n  image_description_min_word_threshold=5, # If analyzing alt text\n  image_score_threshold=3,        # Filter out low-score images\n)\n\n```\n\n**Where they appear** : - `result.screenshot` ‚Üí Base64 screenshot string. - `result.pdf` ‚Üí Byte array with PDF data. \n## 7. Extraction Strategy\n**For advanced data extraction** (CSS/LLM-based), set `extraction_strategy`:\n```\nrun_config = CrawlerRunConfig(\n  extraction_strategy=my_css_or_llm_strategy\n)\n\n```\n\nThe extracted data will appear in `result.extracted_content`.\n## 8. Comprehensive Example\nBelow is a snippet combining many parameters:\n```\nimport asyncio\nfrom crawl4ai import AsyncWebCrawler, CrawlerRunConfig, CacheMode\nfrom crawl4ai.extraction_strategy import JsonCssExtractionStrategy\nasync def main():\n  # Example schema\n  schema = {\n    \"name\": \"Articles\",\n    \"baseSelector\": \"article.post\",\n    \"fields\": [\n      {\"name\": \"title\", \"selector\": \"h2\", \"type\": \"text\"},\n      {\"name\": \"link\", \"selector\": \"a\", \"type\": \"attribute\", \"attribute\": \"href\"}\n    ]\n  }\n  run_config = CrawlerRunConfig(\n    # Core\n    verbose=True,\n    cache_mode=CacheMode.ENABLED,\n    check_robots_txt=True,  # Respect robots.txt rules\n    # Content\n    word_count_threshold=10,\n    css_selector=\"main.content\",\n    excluded_tags=[\"nav\", \"footer\"],\n    exclude_external_links=True,\n    # Page & JS\n    js_code=\"document.querySelector('.show-more')?.click();\",\n    wait_for=\"css:.loaded-block\",\n    page_timeout=30000,\n    # Extraction\n    extraction_strategy=JsonCssExtractionStrategy(schema),\n    # Session\n    session_id=\"persistent_session\",\n    # Media\n    screenshot=True,\n    pdf=True,\n    # Anti-bot\n    simulate_user=True,\n    magic=True,\n  )\n  async with AsyncWebCrawler() as crawler:\n    result = await crawler.arun(\"https://example.com/posts\", config=run_config)\n    if result.success:\n      print(\"HTML length:\", len(result.cleaned_html))\n      print(\"Extraction JSON:\", result.extracted_content)\n      if result.screenshot:\n        print(\"Screenshot length:\", len(result.screenshot))\n      if result.pdf:\n        print(\"PDF bytes length:\", len(result.pdf))\n    else:\n      print(\"Error:\", result.error_message)\nif __name__ == \"__main__\":\n  asyncio.run(main())\n\n```\n\n**What we covered** :\n1. **Crawling** the main content region, ignoring external links. 2. Running **JavaScript** to click ‚Äú.show-more‚Äù. 3. **Waiting** for ‚Äú.loaded-block‚Äù to appear. 4. Generating a **screenshot** & **PDF** of the final page. 5. Extracting repeated ‚Äúarticle.post‚Äù elements with a **CSS-based** extraction strategy.\n## 9. Best Practices\n1. **Use`BrowserConfig` for global browser** settings (headless, user agent). 2. **Use`CrawlerRunConfig`** to handle the **specific** crawl needs: content filtering, caching, JS, screenshot, extraction, etc. 3. Keep your **parameters consistent** in run configs‚Äîespecially if you‚Äôre part of a large codebase with multiple crawls. 4. **Limit** large concurrency (`semaphore_count`) if the site or your system can‚Äôt handle it. 5. For dynamic pages, set `js_code` or `scan_full_page` so you load all content.\n## 10. Conclusion\nAll parameters that used to be direct arguments to `arun()` now belong in **`CrawlerRunConfig`**. This approach:\n  * Makes code **clearer** and **more maintainable**. \n  * Minimizes confusion about which arguments affect global vs. per-crawl behavior. \n  * Allows you to create **reusable** config objects for different pages or tasks.\n\n\nFor a **full** reference, check out the [CrawlerRunConfig Docs](https://docs.crawl4ai.com/api/<../parameters/>). \nHappy crawling with your **structured, flexible** config approach!\n##### Search\nxClose\nType to start searching\n",
  "links": [
    "https://docs.crawl4ai.com",
    "https://docs.crawl4ai.com/advanced/advanced-features",
    "https://docs.crawl4ai.com/advanced/crawl-dispatcher",
    "https://docs.crawl4ai.com/advanced/file-downloading",
    "https://docs.crawl4ai.com/advanced/hooks-auth",
    "https://docs.crawl4ai.com/advanced/identity-based-crawling",
    "https://docs.crawl4ai.com/advanced/lazy-loading",
    "https://docs.crawl4ai.com/advanced/multi-url-crawling",
    "https://docs.crawl4ai.com/advanced/proxy-security",
    "https://docs.crawl4ai.com/advanced/session-management",
    "https://docs.crawl4ai.com/advanced/ssl-certificate",
    "https://docs.crawl4ai.com/arun_many",
    "https://docs.crawl4ai.com/async-webcrawler",
    "https://docs.crawl4ai.com/blog",
    "https://docs.crawl4ai.com/core/browser-crawler-config",
    "https://docs.crawl4ai.com/core/cache-modes",
    "https://docs.crawl4ai.com/core/content-selection",
    "https://docs.crawl4ai.com/core/crawler-result",
    "https://docs.crawl4ai.com/core/docker-deploymeny",
    "https://docs.crawl4ai.com/core/fit-markdown",
    "https://docs.crawl4ai.com/core/installation",
    "https://docs.crawl4ai.com/core/link-media",
    "https://docs.crawl4ai.com/core/local-files",
    "https://docs.crawl4ai.com/core/markdown-generation",
    "https://docs.crawl4ai.com/core/page-interaction",
    "https://docs.crawl4ai.com/core/quickstart",
    "https://docs.crawl4ai.com/core/simple-crawling",
    "https://docs.crawl4ai.com/crawl-result",
    "https://docs.crawl4ai.com/extraction/chunking",
    "https://docs.crawl4ai.com/extraction/clustring-strategies",
    "https://docs.crawl4ai.com/extraction/llm-strategies",
    "https://docs.crawl4ai.com/extraction/no-llm-strategies",
    "https://docs.crawl4ai.com/parameters",
    "https://docs.crawl4ai.com/strategies"
  ],
  "depth": 1,
  "stats": {
    "processed": 7,
    "total": 0,
    "depth": 1,
    "elapsed": "0:00:09",
    "page_limit": 34
  }
}